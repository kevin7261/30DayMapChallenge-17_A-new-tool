# ğŸ—ºï¸ 30 Day Map Challenge - Day 17: A new tool

**å°ç£ç¸£å¸‚ 3D åœ°åœ–è¦–è¦ºåŒ–æ‡‰ç”¨ (Taiwan Counties 3D Map Visualization)**

ä¸€å€‹åŸºæ–¼ **Vue 3** å’Œ **MapLibre GL JS**
çš„äº’å‹•å¼å°ç£ç¸£å¸‚ 3D åœ°åœ–æ‡‰ç”¨ï¼Œå±•ç¤ºå°ç£ 22 å€‹ç¸£å¸‚çš„è¡Œæ”¿å€åŸŸé‚Šç•Œã€‚

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Vue 3](https://img.shields.io/badge/Vue-3.2+-green.svg)](https://vuejs.org/)
[![MapLibre GL JS](https://img.shields.io/badge/MapLibre%20GL%20JS-5.10+-blue.svg)](https://maplibre.org/)

---

## ğŸ“¸ å°ˆæ¡ˆæˆªåœ–

> å°ç£ç¸£å¸‚ 3D ç«‹é«”åœ°åœ–ï¼Œæ”¯æ´æ—‹è½‰ã€å‚¾æ–œã€ç¸®æ”¾ç­‰å¤šç¨®äº’å‹•æ“ä½œ

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ—ºï¸ 3D åœ°åœ–è¦–è¦ºåŒ–

- **ç«‹é«”å‘ˆç¾**ï¼šä½¿ç”¨ MapLibre GL JS çš„ 3D extrusion æŠ€è¡“
- **çœŸå¯¦åº•åœ–**ï¼šOpenStreetMap åœ°ç†è³‡è¨Šåº•åœ–
- **å°ç£ç¸£å¸‚**ï¼šé¡¯ç¤ºå°ç£ 22 å€‹ç¸£å¸‚çš„è¡Œæ”¿å€åŸŸé‚Šç•Œ
- **3D é«˜åº¦**ï¼šç¸£å¸‚å€åŸŸå…·æœ‰ 50,000 ç±³çš„ç«‹é«”é«˜åº¦
- **æ¼¸å±¤é…è‰²**ï¼šç™½è‰²åˆ°è—è‰²çš„æ¼¸å±¤è‰²å½©ï¼ˆæ ¹æ“šç¸£å¸‚ IDï¼‰
- **é‚Šç•Œç·šæ¢**ï¼šé»‘è‰²ç¸£å¸‚é‚Šç•Œç·šï¼Œå¯¬åº¦ 2 åƒç´ 
- **åŠé€æ˜æ•ˆæœ**ï¼š80% é€æ˜åº¦ï¼Œåº•åœ–æ¸…æ™°å¯è¦‹

### ğŸ–±ï¸ äº’å‹•æ“ä½œ

- **å¹³ç§»**ï¼šå·¦éµæ‹–å‹•åœ°åœ–
- **æ—‹è½‰**ï¼šå³éµæ‹–å‹•æ—‹è½‰è¦–è§’ï¼ˆ3D æ•ˆæœï¼‰
- **ç¸®æ”¾**ï¼šæ»¾è¼ªæ§åˆ¶ç¸®æ”¾
- **å‚¾æ–œ**ï¼šShift + å·¦éµæ‹–å‹•èª¿æ•´ä¿¯ä»°è§’åº¦
- **å°èˆªæ§åˆ¶**ï¼šå³ä¸Šè§’ç¸®æ”¾æŒ‰éˆ•
- **æ‡¸åœæç¤º**ï¼šæ»‘é¼ ç§»åˆ°ç¸£å¸‚ä¸Šé¡¯ç¤ºç¸£å¸‚åç¨±

### ğŸ¨ è¦–è¦ºè¨­è¨ˆ

- **ç°è‰²èƒŒæ™¯**ï¼šåœ°åœ–èƒŒæ™¯è‰² #808080
- **æ¼¸å±¤å¡«å……**ï¼šç¸£å¸‚ 3D å€å¡Šä½¿ç”¨ç™½åˆ°è—æ¼¸å±¤
- **é»‘è‰²é‚Šæ¡†**ï¼šæ¸…æ™°çš„è¡Œæ”¿å€åŸŸé‚Šç•Œ
- **è«¾é­¯ä¸»é¡Œ**ï¼šPopup ä½¿ç”¨è«¾é­¯æ·±è— + é‡‘é»ƒè‰²é…è‰²

---

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

### æ ¸å¿ƒæŠ€è¡“

| æŠ€è¡“               | ç‰ˆæœ¬  | ç”¨é€”                       |
| ------------------ | ----- | -------------------------- |
| **Vue 3**          | 3.2+  | å‰ç«¯æ¡†æ¶ (Composition API) |
| **MapLibre GL JS** | 5.10+ | 3D åœ°åœ–æ¸²æŸ“å¼•æ“ (WebGL)    |
| **Pinia**          | 2.1+  | ç‹€æ…‹ç®¡ç†                   |
| **Vue Router**     | 4.5+  | è·¯ç”±ç®¡ç†                   |
| **Bootstrap 5**    | 5.3+  | UI æ¨£å¼æ¡†æ¶                |
| **Font Awesome**   | 6.7+  | åœ–æ¨™åº«                     |

### å°ˆæ¡ˆæ¶æ§‹

```
30DayMapChallenge-17_A-new-tool/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ geojson/
â”‚   â”‚       â””â”€â”€ ç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson  # å°ç£ç¸£å¸‚é‚Šç•Œæ•¸æ“š
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ css/
â”‚   â”‚       â”œâ”€â”€ common.css          # å…±ç”¨æ¨£å¼
â”‚   â”‚       â””â”€â”€ variables.css       # CSS è®Šæ•¸
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ dataStore.js           # åœ°åœ–å¯¦ä¾‹ç®¡ç† (Pinia Composition API)
â”‚   â”‚   â””â”€â”€ defineStore.js         # é…ç½®å­˜å„² (ä¿ç•™)
â”‚   â”œâ”€â”€ tabs/
â”‚   â”‚   â””â”€â”€ MapTab.vue             # MapLibre GL åœ°åœ–çµ„ä»¶ (ä¸»è¦çµ„ä»¶)
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â””â”€â”€ HomeView.vue           # ä¸»é é¢
â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â””â”€â”€ index.js               # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ utils.js               # å·¥å…·å‡½æ•¸ (ä¿ç•™)
â”‚   â”œâ”€â”€ App.vue                    # æ ¹çµ„ä»¶
â”‚   â””â”€â”€ main.js                    # æ‡‰ç”¨å…¥å£
â”œâ”€â”€ babel.config.js                # Babel é…ç½®
â”œâ”€â”€ vue.config.js                  # Vue CLI é…ç½®
â”œâ”€â”€ package.json                   # ä¾è³´ç®¡ç†
â”œâ”€â”€ MAPLIBRE_3D_GUIDE.md          # MapLibre 3D ä½¿ç”¨æŒ‡å—
â””â”€â”€ README.md                      # æœ¬æ–‡ä»¶
```

### åœ°åœ–å¯¦ç¾åŸç†

#### 1. MapLibre GL JS åˆå§‹åŒ–

```javascript
const map = new maplibregl.Map({
  container: mapContainer.value,
  style: {
    version: 8,
    sources: {
      /* OpenStreetMap ç“¦ç‰‡ */
    },
    layers: [
      /* èƒŒæ™¯ + OSM åœ–å±¤ */
    ],
  },
  center: [120.9, 23.7], // å°ç£ä¸­å¿ƒ
  zoom: 6.8,
  pitch: 60, // 3D å‚¾æ–œè§’åº¦
  bearing: 0,
  antialias: true,
});
```

#### 2. è¼‰å…¥å°ç£ç¸£å¸‚ GeoJSON

```javascript
const countyResponse = await fetch(
  `${process.env.BASE_URL}data/geojson/ç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson`
);
const countyData = await countyResponse.json();
```

#### 3. æ·»åŠ  3D ç¸£å¸‚åœ–å±¤

```javascript
// æ·»åŠ æ•¸æ“šæº
map.addSource('counties', {
  type: 'geojson',
  data: countyData,
});

// æ·»åŠ  3D extrusion åœ–å±¤
map.addLayer({
  id: 'counties-3d',
  type: 'fill-extrusion',
  source: 'counties',
  paint: {
    'fill-extrusion-color': [
      'interpolate',
      ['linear'],
      ['get', 'COUNTYID'],
      0,
      '#ffffff',
      10000,
      '#4a90e2',
    ],
    'fill-extrusion-height': 50000,
    'fill-extrusion-opacity': 0.8,
  },
});

// æ·»åŠ é‚Šç•Œç·šåœ–å±¤
map.addLayer({
  id: 'counties-outline',
  type: 'line',
  source: 'counties',
  paint: {
    'line-color': '#000000',
    'line-width': 2,
  },
});
```

#### 4. æ‡¸åœæç¤ºæ•ˆæœ

```javascript
const popup = new maplibregl.Popup({
  closeButton: false,
  closeOnClick: false,
});

map.on('mousemove', 'counties-3d', (e) => {
  const countyName = e.features[0].properties.COUNTYNAME;
  popup
    .setLngLat(e.lngLat)
    .setHTML(`<strong>${countyName}</strong>`)
    .addTo(map);
});
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¦æ±‚

- **Node.js**: 16.0 ä»¥ä¸Š
- **npm**: 7.0 ä»¥ä¸Š æˆ– **yarn**: 1.22 ä»¥ä¸Š
- **ç€è¦½å™¨**: Chrome 49+, Firefox 31+, Safari 9.1+, Edge 15+ (æ”¯æ´ WebGL)

### å®‰è£æ­¥é©Ÿ

#### 1. å…‹éš†å°ˆæ¡ˆ

```bash
git clone https://github.com/kevin7261/30DayMapChallenge-17_A-new-tool.git
cd 30DayMapChallenge-17_A-new-tool/website/30DayMapChallenge-17_A-new-tool
```

#### 2. å®‰è£ä¾è³´

```bash
npm install
```

æˆ–ä½¿ç”¨ yarnï¼š

```bash
yarn install
```

#### 3. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨

```bash
npm run serve
```

ç€è¦½å™¨è¨ªå•ï¼š`http://localhost:8080/30DayMapChallenge-17_A-new-tool/`

#### 4. æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬

```bash
npm run build
```

æ§‹å»ºçµæœä½æ–¼ `dist/` ç›®éŒ„

#### 5. éƒ¨ç½²åˆ° GitHub Pages

```bash
npm run deploy
```

---

## ğŸ“š é–‹ç™¼æŒ‡å—

### ä¿®æ”¹åœ°åœ–é…ç½®

#### èª¿æ•´åœ°åœ–ä¸­å¿ƒé»å’Œç¸®æ”¾

ç·¨è¼¯ `src/tabs/MapTab.vue` çš„ `createMap()` å‡½æ•¸ï¼š

```javascript
const map = new maplibregl.Map({
  center: [120.9, 23.7], // [ç¶“åº¦, ç·¯åº¦]
  zoom: 6.8, // ç¸®æ”¾å±¤ç´š (0-22)
  pitch: 60, // å‚¾æ–œè§’åº¦ (0-85)
  bearing: 0, // æ—‹è½‰è§’åº¦ (0-360)
});
```

#### èª¿æ•´ 3D é«˜åº¦

ä¿®æ”¹ `add3DCountyLayers()` å‡½æ•¸ï¼š

```javascript
'fill-extrusion-height': 50000,  // å–®ä½ï¼šç±³
```

#### ä¿®æ”¹ç¸£å¸‚é¡è‰²

ä¿®æ”¹æ¼¸å±¤é…è‰²ï¼š

```javascript
'fill-extrusion-color': [
  'interpolate',
  ['linear'],
  ['get', 'COUNTYID'],
  0,
  '#ffffff',     // èµ·å§‹é¡è‰²ï¼ˆä¿®æ”¹æ­¤è™•ï¼‰
  10000,
  '#4a90e2'      // çµæŸé¡è‰²ï¼ˆä¿®æ”¹æ­¤è™•ï¼‰
]
```

ä½¿ç”¨å–®ä¸€é¡è‰²ï¼š

```javascript
'fill-extrusion-color': '#4a90e2'
```

#### èª¿æ•´é€æ˜åº¦

```javascript
'fill-extrusion-opacity': 0.8  // 0.0 (å®Œå…¨é€æ˜) - 1.0 (å®Œå…¨ä¸é€æ˜)
```

### æ›´æ›åº•åœ–

ç·¨è¼¯ `src/tabs/MapTab.vue` çš„ `createMap()` å‡½æ•¸ï¼š

#### OpenStreetMap (é»˜èª)

```javascript
tiles: ['https://tile.openstreetmap.org/{z}/{x}/{y}.png'];
```

#### Carto æ·±è‰²åº•åœ–

```javascript
tiles: [
  'https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png',
];
```

#### ESRI è¡›æ˜Ÿå½±åƒ

```javascript
tiles: [
  'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
];
```

#### ESRI åœ°å½¢åœ–

```javascript
tiles: [
  'https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}',
];
```

#### ç„¡åº•åœ–ï¼ˆç´”è‰²èƒŒæ™¯ï¼‰

åˆªé™¤ `osm-tiles` ç›¸é—œçš„ source å’Œ layer è¨­å®šã€‚

### ä¿®æ”¹æ¨£å¼ä¸»é¡Œ

#### Popup æ¨£å¼

ç·¨è¼¯ `src/tabs/MapTab.vue` çš„ `<style>` å€å¡Šï¼š

```css
:deep(.maplibregl-popup-content) {
  background: rgba(0, 43, 127, 0.95); /* è«¾é­¯æ·±è— */
  color: #ffc61e; /* é‡‘é»ƒè‰² */
  border: 2px solid #ffc61e;
}
```

#### å°èˆªæ§åˆ¶å™¨æ¨£å¼

```css
:deep(.maplibregl-ctrl button) {
  background-color: rgba(0, 43, 127, 0.95);
  color: #ffc61e;
}
```

---

## ğŸ“Š æ•¸æ“šä¾†æº

### å°ç£ç¸£å¸‚é‚Šç•Œæ•¸æ“š

- **åç¨±**ï¼šç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson
- **ä¾†æº**ï¼šæ”¿åºœé–‹æ”¾è³‡æ–™å¹³å°
- **æ ¼å¼**ï¼šGeoJSON
- **åº§æ¨™ç³»çµ±**ï¼šWGS84 (EPSG:4326)
- **æ›´æ–°æ—¥æœŸ**ï¼š2024-03-18
- **æˆæ¬Š**ï¼šæ”¿åºœè³‡æ–™é–‹æ”¾æˆæ¬Šæ¢æ¬¾

### åº•åœ–è³‡æ–™

- **åç¨±**ï¼šOpenStreetMap
- **ç¶²å€**ï¼šhttps://www.openstreetmap.org/
- **æˆæ¬Š**ï¼šOpen Database License (ODbL)
- **ä½¿ç”¨**ï¼šç“¦ç‰‡æœå‹™ï¼ˆéå•†æ¥­ç”¨é€”ï¼‰

---

## ğŸ”§ é–‹ç™¼æŒ‡ä»¤

```bash
# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨ï¼ˆæ”¯æ´ç†±é‡è¼‰ï¼‰
npm run serve

# æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
npm run build

# ç¨‹å¼ç¢¼æª¢æŸ¥
npm run lint

# ç¨‹å¼ç¢¼æª¢æŸ¥ä¸¦ä¿®å¾©
npm run lint:fix

# ç¨‹å¼ç¢¼æ ¼å¼åŒ– (Prettier)
npm run prettier

# ç¨‹å¼ç¢¼æ ¼å¼åŒ–æª¢æŸ¥
npm run prettier:check

# ç¨‹å¼ç¢¼æ ¼å¼åŒ– + ESLint ä¿®å¾©
npm run format

# éƒ¨ç½²åˆ° GitHub Pages
npm run deploy
```

---

## ğŸŒ ç·šä¸Šå±•ç¤º

- **GitHub Pages**: https://kevin7261.github.io/30DayMapChallenge-17_A-new-tool/
- **å°ˆæ¡ˆå€‰åº«**: https://github.com/kevin7261/30DayMapChallenge-17_A-new-tool

---

## ğŸ“– è©³ç´°æ–‡æª”

- [MAPLIBRE_3D_GUIDE.md](./MAPLIBRE_3D_GUIDE.md) - MapLibre GL JS
  3D åœ°åœ–ä½¿ç”¨æŒ‡å—
- [Vue 3 å®˜æ–¹æ–‡æª”](https://vuejs.org/)
- [MapLibre GL JS å®˜æ–¹æ–‡æª”](https://maplibre.org/maplibre-gl-js/docs/)
- [Pinia å®˜æ–¹æ–‡æª”](https://pinia.vuejs.org/)

---

## ğŸ› å¸¸è¦‹å•é¡Œ

### åœ°åœ–ç„¡æ³•é¡¯ç¤º

1. **ç¢ºèª GeoJSON æª”æ¡ˆå­˜åœ¨**

   ```
   public/data/geojson/ç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson
   ```

2. **æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°**

   - æŒ‰ F12 æ‰“é–‹é–‹ç™¼è€…å·¥å…·
   - æŸ¥çœ‹ Console æ¨™ç±¤ä¸­çš„éŒ¯èª¤è¨Šæ¯

3. **ç¢ºèªç€è¦½å™¨æ”¯æ´ WebGL**
   - è¨ªå•ï¼šhttps://get.webgl.org/
   - å¦‚æœçœ‹åˆ°æ—‹è½‰çš„ç«‹æ–¹é«”ï¼Œè¡¨ç¤ºæ”¯æ´ WebGL

### 3D æ•ˆæœä¸æ˜é¡¯

- **å¢åŠ é«˜åº¦**ï¼šèª¿å¤§ `fill-extrusion-height` çš„å€¼
- **èª¿æ•´è§’åº¦**ï¼šå¢åŠ  `pitch` å€¼ (å»ºè­° 45-70)
- **æ—‹è½‰è¦–è§’**ï¼šä½¿ç”¨å³éµæ‹–å‹•åœ°åœ–

### æ•ˆèƒ½å•é¡Œ

- **é™ä½é«˜åº¦**ï¼šæ¸›å° `fill-extrusion-height` çš„å€¼
- **é—œé–‰æŠ—é‹¸é½’**ï¼šè¨­å®š `antialias: false`
- **ä½¿ç”¨æ›´å¿«çš„ç€è¦½å™¨**ï¼šæ¨è–¦ä½¿ç”¨ Chrome æˆ– Edge

### Popup ä¸é¡¯ç¤º

- **æª¢æŸ¥ GeoJSON å±¬æ€§**ï¼šç¢ºèªæœ‰ `COUNTYNAME` æ¬„ä½
- **æŸ¥çœ‹æ§åˆ¶å°éŒ¯èª¤**ï¼šæª¢æŸ¥æ˜¯å¦æœ‰ JavaScript éŒ¯èª¤
- **é‡æ–°è¼‰å…¥é é¢**ï¼šæŒ‰ Ctrl+F5 å¼·åˆ¶é‡æ–°è¼‰å…¥

---

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue æˆ– Pull Requestï¼

### è²¢ç»æµç¨‹

1. Fork æœ¬å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

### ç¨‹å¼ç¢¼è¦ç¯„

- ä½¿ç”¨ **ESLint** é€²è¡Œç¨‹å¼ç¢¼æª¢æŸ¥
- ä½¿ç”¨ **Prettier** é€²è¡Œæ ¼å¼åŒ–
- éµå¾ª **Vue 3 Composition API** é¢¨æ ¼
- æ·»åŠ è©³ç´°çš„è¨»è§£èªªæ˜

---

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT æˆæ¬Šæ¢æ¬¾](LICENSE)ã€‚

---

## ğŸ™ è‡´è¬

### é–‹æºé …ç›®

- [Vue.js](https://vuejs.org/) - æ¼¸é€²å¼ JavaScript æ¡†æ¶
- [MapLibre GL JS](https://maplibre.org/) - é–‹æºåœ°åœ–æ¸²æŸ“å¼•æ“
- [Pinia](https://pinia.vuejs.org/) - Vue ç‹€æ…‹ç®¡ç†
- [Bootstrap](https://getbootstrap.com/) - CSS æ¡†æ¶
- [Font Awesome](https://fontawesome.com/) - åœ–æ¨™åº«
- [OpenStreetMap](https://www.openstreetmap.org/) - é–‹æ”¾è¡—åœ–åº•åœ–

### æ•¸æ“šä¾†æº

- [æ”¿åºœè³‡æ–™é–‹æ”¾å¹³è‡º](https://data.gov.tw/) - å°ç£ç¸£å¸‚é‚Šç•Œæ•¸æ“š

### éˆæ„Ÿä¾†æº

- [#30DayMapChallenge](https://30daymapchallenge.com/) - 2025 åœ°åœ–æŒ‘æˆ°æ´»å‹•

---

## ğŸ“¬ è¯ç¹«æ–¹å¼

- **GitHub**: [@kevin7261](https://github.com/kevin7261)
- **å°ˆæ¡ˆ Issues**:
  [æäº¤å•é¡Œ](https://github.com/kevin7261/30DayMapChallenge-17_A-new-tool/issues)

---

**#30DayMapChallenge** ğŸ—ºï¸ **Day 17: A new tool** | **Made with â¤ï¸ using Vue 3 +
MapLibre GL JS**
