{"version":3,"file":"js/app.c9d66c1f.js","mappings":"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","sources":["webpack://30daymapchallenge-17-a-new-tool/./src/App.vue","webpack://30daymapchallenge-17-a-new-tool/./src/App.vue?7ccd","webpack://30daymapchallenge-17-a-new-tool/./src/views/HomeView.vue","webpack://30daymapchallenge-17-a-new-tool/./src/tabs/MapTab.vue","webpack://30daymapchallenge-17-a-new-tool/./src/stores/dataStore.js","webpack://30daymapchallenge-17-a-new-tool/./src/tabs/MapTab.vue?15ab","webpack://30daymapchallenge-17-a-new-tool/./src/views/HomeView.vue?1da1","webpack://30daymapchallenge-17-a-new-tool/./src/router/index.js","webpack://30daymapchallenge-17-a-new-tool/./src/main.js","webpack://30daymapchallenge-17-a-new-tool/webpack/bootstrap","webpack://30daymapchallenge-17-a-new-tool/webpack/runtime/chunk loaded","webpack://30daymapchallenge-17-a-new-tool/webpack/runtime/compat get default export","webpack://30daymapchallenge-17-a-new-tool/webpack/runtime/define property getters","webpack://30daymapchallenge-17-a-new-tool/webpack/runtime/global","webpack://30daymapchallenge-17-a-new-tool/webpack/runtime/hasOwnProperty shorthand","webpack://30daymapchallenge-17-a-new-tool/webpack/runtime/node module decorator","webpack://30daymapchallenge-17-a-new-tool/webpack/runtime/jsonp chunk loading","webpack://30daymapchallenge-17-a-new-tool/webpack/startup"],"sourcesContent":["<script>\n  /**\n   * 🏠 App.vue - 應用程式主組件\n   *\n   * 功能說明：\n   * 1. 🏗️ 提供應用程式整體框架和佈局結構\n   * 2. ⏳ 管理全域載入狀態和進度顯示\n   * 3. 🚀 管理 Vue Router 的路由導航系統\n   * 4. 📱 實現響應式滿版佈局，無邊距和空隙\n   *\n   * 架構說明：\n   * - 內容層：路由視圖容器，動態顯示不同頁面組件\n   *\n   * 設計理念：\n   * - 滿版無邊距佈局設計\n   * - 模組化組件架構\n   */\n\n  export default {\n    name: 'App',\n  };\n</script>\n\n<template>\n  <!-- 🏠 App.vue - 主應用程式組件 (Main Application Component) -->\n  <!-- 提供應用程式整體框架，實現滿版無空隙佈局 -->\n  <div id=\"app\">\n    <!-- 📱 主要內容區域 (Main Content Area) -->\n    <router-view />\n  </div>\n</template>\n\n<style>\n  /**\n * 🎨 應用程式全域樣式 (Application Global Styles)\n *\n * 引入共用 CSS 並定義應用程式層級的樣式\n * 注意：大部分樣式已移至 common.css 中統一管理\n */\n\n  /* 📦 引入共用樣式表 (Import Common Stylesheets) */\n  @import './assets/css/common.css';\n\n  /* 📱 應用程式特定樣式 (App-Specific Styles) */\n  /* 強制全屏佈局，覆蓋所有可能的限制 */\n  #app {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n    z-index: 0 !important;\n  }\n\n  /* 確保所有子元素都不會限制大小 */\n  #app > * {\n    width: 100% !important;\n    height: 100% !important;\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=689af459\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=689af459&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\n  /**\n   * 🏠 HomeView.vue - 主頁面組件 (Main Page Component)\n   *\n   * 這是應用程式的主頁面，顯示全屏世界地圖。\n   * 主要功能：\n   * - 顯示全屏世界地圖\n   * - 使用麥卡托投影\n   * - 響應式佈局設計\n   *\n   * 組件結構：\n   * - MapTab: 地圖顯示組件（全屏）\n   */\n\n  import MapTab from '../tabs/MapTab.vue';\n  import { useDataStore } from '@/stores/dataStore.js';\n\n  export default {\n    name: 'HomeView',\n    components: { MapTab },\n    setup() {\n      // 📦 存儲實例\n      const dataStore = useDataStore();\n\n      /**\n       * 🗺️ 設定地圖實例\n       * 將 D3.js 地圖實例傳遞給 dataStore\n       * @param {Object} map - D3.js 地圖實例（包含 svg, projection, path）\n       */\n      const setMapInstance = (map) => dataStore.setMapInstance(map);\n\n      return {\n        setMapInstance,\n      };\n    },\n  };\n</script>\n\n<template>\n  <!-- 🏠 全屏地圖容器 -->\n  <div class=\"fullscreen-container\">\n    <!-- 🗺️ 地圖組件（全屏） -->\n    <MapTab @map-ready=\"setMapInstance\" />\n  </div>\n</template>\n\n<style>\n  @import '../assets/css/common.css';\n\n  .fullscreen-container {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n    z-index: 0 !important;\n    background: transparent !important;\n  }\n\n  /* 確保沒有任何父容器限制大小 */\n  body,\n  html,\n  #app {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    overflow: hidden !important;\n  }\n</style>\n","<script>\n  /* eslint-disable no-console */\n  /**\n   * ═══════════════════════════════════════════════════════════════════════════\n   * 🗺️ MapTab.vue - CesiumJS 台灣縣市 3D 地圖組件\n   * ═══════════════════════════════════════════════════════════════════════════\n   *\n   * @fileoverview\n   * 這是一個基於 CesiumJS 的台灣縣市 3D 地圖視覺化組件。\n   * 本組件負責載入、處理和渲染台灣縣市邊界的 GeoJSON 數據，並支持 3D 視角。\n   *\n   * ─────────────────────────────────────────────────────────────────────────\n   * 📋 核心功能\n   * ─────────────────────────────────────────────────────────────────────────\n   * 1. 縣市邊界渲染：\n   *    ✓ 載入 直轄市、縣(市)界線1140318.geojson\n   *    ✓ 以 3D extrusion 方式繪製所有台灣縣市邊界\n   *    ✓ 每個縣市使用不同顏色\n   *\n   * 2. 視覺元素：\n   *    ✓ 3D 立體縣市區域（22種不同顏色）\n   *    ✓ 白色縣市邊界線\n   *    ✓ Bing Maps 衛星圖底圖（真實地形影像）\n   *    ✓ 真實地形高度（使用 Cesium World Terrain）\n   *    ✓ 核電廠位置標記（黃色圓點）\n   *    ✓ 核電廠 30 公里橙色實心橢圓（無邊框，貼合地形）\n   *    ✓ 核電廠影響範圍立體半球（平滑的半圓球）\n   *    ✓ 核電廠名稱標籤（紅色文字）\n   *\n   * 3. 交互功能：\n   *    ✓ 滾輪縮放控制\n   *    ✓ 拖動平移導航\n   *    ✓ 右鍵拖動旋轉視角（支援 3D）\n   *    ✓ 傾斜視角控制\n   *    ✓ 預設從正上方往下看（俯視視角）\n   *    ✓ 每個縣市隨機高度（30-80 公里）\n   *    ✓ 無懸停效果（已移除所有 popup 和滑鼠交互）\n   *    ✓ 無地圖控件按鈕（已移除所有導航控制器）\n   *\n   * ─────────────────────────────────────────────────────────────────────────\n   * ⚛️ 核電廠標記\n   * ─────────────────────────────────────────────────────────────────────────\n   * 核一廠（已除役）：北緯25°17′50.7″，東經121°32′44.2″\n   * 核二廠（已除役）：北緯25°12′0.5″，東經121°40′17.3″\n   * 核三廠（運轉中）：北緯21°59′47.5″，東經120°45′39.8″\n   * 核四廠（封存中）：北緯25°02′18″，東經121°55′27″\n   *\n   * 每座核電廠標記包含：\n   * - 紅色圓點標記\n   * - 立體半球影響範圍（平滑的半圓球）\n   * - 名稱標籤（紅色文字）\n   *\n   * ─────────────────────────────────────────────────────────────────────────\n   * 🎨 配色主題\n   * ─────────────────────────────────────────────────────────────────────────\n   * 每個縣市都有獨特的顏色配置：\n   * 臺北市 → #FF6B6B (紅色系)\n   * 新北市 → #4ECDC4 (青綠色)\n   * 基隆市 → #45B7D1 (天藍色)\n   * 桃園市 → #96CEB4 (薄荷綠)\n   * 新竹市 → #FFEAA7 (淡黃色)\n   * 新竹縣 → #DFE6E9 (淡灰色)\n   * 苗栗縣 → #74B9FF (藍色)\n   * 臺中市 → #A29BFE (紫色)\n   * 彰化縣 → #FD79A8 (粉紅色)\n   * 南投縣 → #FDCB6E (金黃色)\n   * 雲林縣 → #6C5CE7 (深紫色)\n   * 嘉義市 → #00B894 (綠色)\n   * 嘉義縣 → #00CEC9 (藍綠色)\n   * 臺南市 → #E17055 (橘紅色)\n   * 高雄市 → #0984E3 (藍色)\n   * 屏東縣 → #55EFC4 (淡綠色)\n   * 宜蘭縣 → #A8E6CF (淺綠色)\n   * 花蓮縣 → #FFD93D (黃色)\n   * 臺東縣 → #FF8B94 (粉色)\n   * 澎湖縣 → #B4A7D6 (淡紫色)\n   * 金門縣 → #F3A683 (桃色)\n   * 連江縣 → #81ECEC (青色)\n   *\n   * ─────────────────────────────────────────────────────────────────────────\n   * 🛠️ 技術棧\n   * ─────────────────────────────────────────────────────────────────────────\n   * @requires vue                 - Vue 3.2+ (Composition API)\n   * @requires cesium              - CesiumJS (3D 地圖庫)\n   * @requires @/stores/dataStore  - Pinia 狀態管理\n   *\n   * ─────────────────────────────────────────────────────────────────────────\n   * 📁 數據來源\n   * ─────────────────────────────────────────────────────────────────────────\n   * 縣市邊界數據：直轄市、縣(市)界線1140318.geojson\n   * 路徑：public/data/geojson/直轄市、縣(市)界線1140318.geojson\n   *\n   * ─────────────────────────────────────────────────────────────────────────\n   * 🔧 使用方式\n   * ─────────────────────────────────────────────────────────────────────────\n   * <MapTab @map-ready=\"handleMapReady\" />\n   *\n   * @event map-ready - 地圖初始化完成時觸發，返回地圖實例\n   *\n   * ─────────────────────────────────────────────────────────────────────────\n   * 📝 維護者\n   * ─────────────────────────────────────────────────────────────────────────\n   * @author Kevin Cheng\n   * @version 23.0.0\n   * @since 2025\n   * @license MIT\n   *\n   * ═══════════════════════════════════════════════════════════════════════════\n   */\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // 📦 依賴導入 (Dependencies Import)\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  // 從 Vue 3 核心庫導入 Composition API 所需的功能\n  import { ref, onMounted, onUnmounted, nextTick } from 'vue';\n\n  // 導入 CesiumJS 地圖庫\n  import * as Cesium from 'cesium';\n\n  // 從 Pinia 狀態管理導入數據存儲\n  import { useDataStore } from '@/stores/dataStore';\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // 🎯 組件定義 (Component Definition)\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  export default {\n    name: 'MapTab',\n\n    emits: ['map-ready'],\n\n    setup(_, { emit }) {\n      // ═══════════════════════════════════════════════════════════════════════\n      // 📦 狀態管理與依賴 (State Management & Dependencies)\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const dataStore = useDataStore();\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 🗺️ 地圖相關變數 (Map-Related Variables)\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const mapContainer = ref(null);\n      let viewer = null;\n      const isMapReady = ref(false);\n      const mapContainerId = ref(`cesium-map-${Math.random().toString(36).substr(2, 9)}`);\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 📊 GeoJSON 數據儲存 (GeoJSON Data Storage)\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const countyData = ref(null);\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 📥 載入台灣縣市 GeoJSON 數據\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const loadCountyData = async () => {\n        try {\n          console.log('[MapTab] 開始載入台灣縣市 GeoJSON 數據...');\n\n          const countyResponse = await fetch(\n            `${process.env.BASE_URL}data/geojson/直轄市、縣(市)界線1140318.geojson`\n          );\n\n          if (!countyResponse.ok) {\n            throw new Error(`縣市數據載入失敗: HTTP ${countyResponse.status}`);\n          }\n\n          countyData.value = await countyResponse.json();\n\n          console.log('[MapTab] 台灣縣市數據載入成功');\n          console.log('  - 縣市數量:', countyData.value.features?.length || 0);\n\n          return true;\n        } catch (error) {\n          console.error('[MapTab] 台灣縣市數據載入失敗:', error);\n          return false;\n        }\n      };\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // ⚛️ 添加核電廠標記和影響範圍球體\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const addNuclearPlants = () => {\n        const plants = [\n          {\n            name: '核一廠',\n            fullName: '核一廠（已除役）',\n            status: '已除役',\n            lon: 121.545611,\n            lat: 25.297417,\n          },\n          {\n            name: '核二廠',\n            fullName: '核二廠（已除役）',\n            status: '已除役',\n            lon: 121.671472,\n            lat: 25.200139,\n          },\n          {\n            name: '核三廠',\n            fullName: '核三廠',\n            status: '運轉中',\n            lon: 120.761056,\n            lat: 21.996528,\n          },\n          {\n            name: '核四廠',\n            fullName: '核四廠（封存中）',\n            status: '封存中',\n            lon: 121.924167,\n            lat: 25.038333,\n          },\n        ];\n\n        plants.forEach((plant) => {\n          // 添加核電廠標記點（平面圓點）\n          viewer.entities.add({\n            position: Cesium.Cartesian3.fromDegrees(plant.lon, plant.lat),\n            point: {\n              pixelSize: 6,\n              color: Cesium.Color.YELLOW,\n              disableDepthTestDistance: Number.POSITIVE_INFINITY, // 確保平面顯示\n              heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\n            },\n          });\n\n          // 添加 30 公里影響範圍圓圈（橙色實心橢圓，無邊框，貼合地形）\n          viewer.entities.add({\n            position: Cesium.Cartesian3.fromDegrees(plant.lon, plant.lat),\n            ellipse: {\n              semiMajorAxis: 30000,\n              semiMinorAxis: 30000,\n              material: new Cesium.Color(1.0, 0.5, 0.0, 0.3), // 橙色，半透明\n              heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\n              outline: false, // 無邊框\n            },\n          });\n\n          // 添加立體半球影響範圍 - 從黃色到深紅色的輻射漸變\n          const layers = 50;\n          const sphereRadius = 30000;\n\n          for (let layer = 0; layer < layers; layer++) {\n            const heightOffset = (layer / (layers - 1)) * sphereRadius;\n            const radiusSquared = sphereRadius * sphereRadius - heightOffset * heightOffset;\n\n            if (radiusSquared < 0) continue;\n\n            const currentRadius = Math.sqrt(radiusSquared);\n            const opacity = 0.035 - (layer / layers) * 0.015;\n\n            // 從中心黃色漸變到外圍深紅色\n            const t = layer / layers; // 0 (中心) 到 1 (外圍)\n            const r = 1.0; // 紅色保持最大\n            const g = 1.0 - t * 0.8; // 從 1.0 (黃色) 漸變到 0.2 (紅色)\n            const b = 0.0;\n\n            viewer.entities.add({\n              position: Cesium.Cartesian3.fromDegrees(plant.lon, plant.lat, heightOffset),\n              ellipse: {\n                semiMajorAxis: currentRadius,\n                semiMinorAxis: currentRadius,\n                material: new Cesium.Color(r, g, b, opacity),\n                height: heightOffset,\n                heightReference: Cesium.HeightReference.NONE,\n              },\n            });\n          }\n        });\n\n        console.log('[MapTab] 核電廠標記和立體半球添加完成');\n      };\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 🗺️ 添加 3D 縣市圖層\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const add3DCountyLayers = () => {\n        if (!viewer || !countyData.value) {\n          console.error(\n            '[MapTab] 無法添加圖層: viewer=',\n            !!viewer,\n            'countyData=',\n            !!countyData.value\n          );\n          return;\n        }\n\n        try {\n          console.log('[MapTab] 開始添加 3D 台灣縣市圖層');\n\n          countyData.value.features.forEach((feature) => {\n            const geometry = feature.geometry;\n\n            // 處理 Polygon 和 MultiPolygon 的不同情況\n            const polygons =\n              geometry.type === 'Polygon' ? [geometry.coordinates] : geometry.coordinates;\n\n            polygons.forEach((polygonCoords) => {\n              // fromDegreesArray 需要一個扁平的 [lon, lat, lon, lat, ...] 陣列\n              const flatCoordinates = polygonCoords[0].flat();\n\n              viewer.entities.add({\n                polyline: {\n                  positions: Cesium.Cartesian3.fromDegreesArray(flatCoordinates),\n                  width: 1,\n                  material: Cesium.Color.WHITE, // 白色邊界線\n                  clampToGround: true,\n                },\n              });\n            });\n          });\n\n          console.log('[MapTab] 3D 台灣縣市圖層添加完成');\n        } catch (error) {\n          console.error('[MapTab] 3D 台灣縣市圖層添加失敗:', error);\n        }\n      };\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 🏗️ 創建 CesiumJS 地圖實例\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const createMap = async () => {\n        if (!mapContainer.value) return false;\n\n        const rect = mapContainer.value.getBoundingClientRect();\n        if (rect.width === 0 || rect.height === 0) {\n          console.warn('[MapTab] 容器尺寸為零，延遲初始化');\n          return false;\n        }\n\n        try {\n          console.log('[MapTab] 開始創建 CesiumJS 地圖');\n\n          // 設置 CesiumJS token\n          Cesium.Ion.defaultAccessToken =\n            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxYjJiZjlhZC1mZDNkLTRiZWEtYjExNy1iZDI1OWQ5ZmJlZmEiLCJpZCI6MzU1MDgxLCJpYXQiOjE3NjE3MTc5NTl9.ivNUz20WJNOvyTB6vzB8xHNWNSzgl06vBAGOuZLNKs4';\n\n          // 創建地形提供者\n          const terrainProvider = await Cesium.createWorldTerrainAsync();\n\n          // 創建 CesiumJS Viewer\n          viewer = new Cesium.Viewer(mapContainer.value, {\n            terrainProvider: terrainProvider,\n\n            // 依照方法二：不指定 imageryProvider，讓 Cesium 透過 Ion 預設載入 Bing 衛星圖\n            baseLayerPicker: false,\n            navigationHelpButton: false,\n            animation: false,\n            timeline: false,\n            fullscreenButton: false,\n            vrButton: false,\n            geocoder: false,\n            homeButton: false,\n            sceneModePicker: false,\n            selectionIndicator: false,\n            infoBox: false,\n            navigationInstructionsInitiallyVisible: false,\n          });\n\n          // --- 深度除錯設定 ---\n          // 1. 開啟 FPS 偵錯器，確認渲染循環是否正常\n          viewer.scene.debugShowFramesPerSecond = true;\n\n          // 2. 強制顯示地球\n          viewer.scene.globe.show = true;\n\n          // 3. 監聽底圖圖層的錯誤事件\n          viewer.imageryLayers.layerAdded.addEventListener((layer) => {\n            layer.imageryProvider.errorEvent.addEventListener((error) => {\n              console.error('[MapTab] 底圖載入失敗:', error);\n            });\n          });\n\n          // 設置初始視角 - 調整角度以顯示地形高度\n          viewer.camera.setView({\n            destination: Cesium.Cartesian3.fromDegrees(120.9, 23.0, 250000), // 降低高度至 250km\n            orientation: {\n              heading: Cesium.Math.toRadians(0),\n              pitch: Cesium.Math.toRadians(-60), // 傾斜視角以觀察地形\n              roll: 0.0,\n            },\n          });\n\n          // 設置相機控制\n          viewer.scene.screenSpaceCameraController.enableRotate = true;\n          viewer.scene.screenSpaceCameraController.enableTranslate = true;\n          viewer.scene.screenSpaceCameraController.enableZoom = true;\n          viewer.scene.screenSpaceCameraController.enableTilt = true;\n\n          // 啟用對地形的深度測試，確保 3D 物件正確貼合地形\n          viewer.scene.globe.depthTestAgainstTerrain = true;\n\n          // 強制調整 CesiumJS 畫布大小\n          const container = viewer.container;\n          const canvas = viewer.canvas;\n          console.log('[MapTab] 容器大小:', {\n            container: {\n              width: container.clientWidth,\n              height: container.clientHeight,\n              offsetWidth: container.offsetWidth,\n              offsetHeight: container.offsetHeight,\n            },\n            canvas: {\n              width: canvas.width,\n              height: canvas.height,\n              clientWidth: canvas.clientWidth,\n              clientHeight: canvas.clientHeight,\n            },\n            window: {\n              innerWidth: window.innerWidth,\n              innerHeight: window.innerHeight,\n            },\n          });\n\n          // 強制調整畫布大小\n          viewer.resize();\n\n          console.log('[MapTab] CesiumJS 地圖創建成功');\n          isMapReady.value = true;\n\n          // 添加 3D 縣市圖層\n          add3DCountyLayers();\n\n          // 添加核電廠標記和影響範圍\n          addNuclearPlants();\n\n          // 保存地圖實例到 Pinia store\n          dataStore.setMapInstance(viewer);\n\n          // 將地圖實例傳遞給父組件\n          emit('map-ready', viewer);\n\n          return true;\n        } catch (error) {\n          console.error('[MapTab] CesiumJS 地圖創建失敗:', error);\n          return false;\n        }\n      };\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 🚀 初始化地圖\n      // ═══════════════════════════════════════════════════════════════════════\n\n      const initMap = async () => {\n        let attempts = 0;\n        const maxAttempts = 20;\n\n        // 載入台灣縣市數據\n        const loaded = await loadCountyData();\n        if (!loaded) {\n          console.error('[MapTab] 無法載入台灣縣市數據');\n          return;\n        }\n\n        const tryCreateMap = async () => {\n          if (attempts >= maxAttempts) {\n            console.error('[MapTab] 地圖初始化失敗，已達到最大嘗試次數');\n            return;\n          }\n\n          attempts++;\n          console.log(`[MapTab] 嘗試創建地圖 (${attempts}/${maxAttempts})`);\n\n          try {\n            const success = await createMap();\n            if (success) {\n              console.log('[MapTab] 地圖創建成功');\n            } else {\n              console.log('[MapTab] 地圖創建失敗，100ms 後重試');\n              setTimeout(tryCreateMap, 100);\n            }\n          } catch (error) {\n            console.error('[MapTab] 地圖創建過程中發生錯誤:', error);\n            console.log('[MapTab] 100ms 後重試');\n            setTimeout(tryCreateMap, 100);\n          }\n        };\n\n        tryCreateMap();\n      };\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 🧹 生命週期鉤子 (Lifecycle Hooks)\n      // ═══════════════════════════════════════════════════════════════════════\n\n      onMounted(() => {\n        nextTick(() => {\n          initMap();\n        });\n\n        // 監聽窗口大小改變\n        const handleResize = () => {\n          if (viewer) {\n            console.log('[MapTab] 窗口大小改變，調整地圖大小');\n            viewer.resize();\n          }\n        };\n\n        window.addEventListener('resize', handleResize);\n\n        // 清理監聽器\n        onUnmounted(() => {\n          window.removeEventListener('resize', handleResize);\n        });\n      });\n\n      onUnmounted(() => {\n        if (viewer) {\n          viewer.destroy();\n          viewer = null;\n        }\n        isMapReady.value = false;\n      });\n\n      // ═══════════════════════════════════════════════════════════════════════\n      // 📤 返回組件公開的屬性和方法\n      // ═══════════════════════════════════════════════════════════════════════\n\n      return {\n        mapContainer,\n        mapContainerId,\n      };\n    },\n  };\n</script>\n\n<template>\n  <div id=\"map-container\">\n    <div :id=\"mapContainerId\" ref=\"mapContainer\"></div>\n  </div>\n</template>\n\n<style>\n  @import '../assets/css/common.css';\n\n  /* 地圖容器 - 使用非 scoped 樣式確保正確應用 */\n  #map-container {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n    z-index: 0 !important;\n    background: transparent !important;\n  }\n\n  #map-container > div {\n    position: absolute !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n\n  /* CesiumJS 地圖容器樣式 */\n  .cesium-viewer {\n    font-family: 'Open Sans', 'Arial', sans-serif;\n    position: absolute !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n\n  .cesium-viewer-cesiumWidgetContainer {\n    position: absolute !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n\n  .cesium-widget {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n\n  .cesium-widget canvas {\n    width: 100vw !important;\n    height: 100vh !important;\n  }\n\n  /* CesiumJS 控制按鈕樣式 */\n  .cesium-viewer-toolbar {\n    background: rgba(0, 43, 127, 0.95);\n    border: 1px solid #ffc61e;\n  }\n\n  .cesium-viewer-toolbar button {\n    background-color: rgba(0, 43, 127, 0.95);\n    color: #ffc61e;\n  }\n\n  .cesium-viewer-toolbar button:hover {\n    background-color: rgba(0, 43, 127, 1);\n  }\n</style>\n","/**\n * ═══════════════════════════════════════════════════════════════════════════\n * 📦 數據存儲模組 (Data Store Module)\n * ═══════════════════════════════════════════════════════════════════════════\n *\n * @fileoverview\n * 本文件定義應用程式的核心數據存儲 store，負責管理 MapLibre GL 地圖實例\n * 和相關的運行時數據。使用 Pinia Composition API 語法實現。\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📋 主要功能\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 1. 地圖實例管理\n *    - 存儲 MapLibre GL Map 實例\n *    - 提供跨組件訪問地圖實例的能力\n *    - 確保單一地圖實例原則\n *\n * 2. 狀態持久化\n *    - 使用 Pinia persist 插件\n *    - 將狀態保存到 localStorage\n *    - 頁面重載時恢復狀態\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🏗️ 設計模式\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 單例模式 (Singleton Pattern):\n * - 地圖實例在整個應用中只存在一個\n * - 通過 store 共享給需要的組件\n * - 避免重複創建地圖實例造成的性能問題\n *\n * 集中式狀態管理:\n * - 將地圖實例從組件中提取到 store\n * - 便於多個組件訪問和操作同一地圖\n * - 簡化組件間的通信\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🔄 數據流程\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 1. 地圖創建流程：\n *    MapTab.vue 創建地圖\n *    → 觸發 'map-ready' 事件\n *    → HomeView.vue 接收事件\n *    → 調用 dataStore.setMapInstance(map)\n *    → 地圖實例存儲到 store\n *    → 其他組件可通過 store 訪問地圖\n *\n * 2. 地圖訪問流程：\n *    組件需要操作地圖\n *    → import { useDataStore } from '@/stores/dataStore'\n *    → const dataStore = useDataStore()\n *    → const map = dataStore.mapInstance\n *    → 對 map 進行操作\n *\n * ─────────────────────────────────────────────────────────────────────────\n * ⚙️ Pinia Composition API 語法說明\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 本 store 使用 Composition API 語法而非 Options API，優勢如下：\n *\n * 1. 更靈活的組織方式\n *    - 可以使用 Vue 3 的 Composition API (ref, computed, watch 等)\n *    - 代碼更模塊化，邏輯更清晰\n *\n * 2. 更好的 TypeScript 支援\n *    - 自動推導類型\n *    - 減少類型註解需求\n *\n * 3. 更接近 Vue 3 的編碼風格\n *    - 與 <script setup> 語法一致\n *    - 學習曲線更平緩\n *\n * Composition API 語法結構：\n * ```javascript\n * export const useStore = defineStore('id', () => {\n *   // 1. 定義響應式狀態（相當於 Options API 的 state）\n *   const count = ref(0);\n *   const user = ref(null);\n *\n *   // 2. 定義計算屬性（相當於 Options API 的 getters）\n *   const doubleCount = computed(() => count.value * 2);\n *\n *   // 3. 定義方法（相當於 Options API 的 actions）\n *   function increment() {\n *     count.value++;\n *   }\n *\n *   async function fetchUser(id) {\n *     user.value = await api.getUser(id);\n *   }\n *\n *   // 4. 返回所有需要暴露的內容\n *   return {\n *     count,\n *     user,\n *     doubleCount,\n *     increment,\n *     fetchUser\n *   };\n * });\n * ```\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🔐 持久化配置\n * ─────────────────────────────────────────────────────────────────────────\n *\n * persist: true 的作用：\n * - 自動將 store 狀態保存到 localStorage\n * - 鍵名格式：'pinia-data'（'pinia-' + store id）\n * - 頁面重載時自動恢復狀態\n *\n * 注意事項：\n * - 地圖實例 (MapLibre Map) 無法被序列化\n * - localStorage 只能存儲字符串\n * - 因此地圖實例實際上不會被持久化\n * - 每次重載頁面都需要重新創建地圖實例\n *\n * 持久化配置範例（進階用法）：\n * ```javascript\n * {\n *   persist: {\n *     enabled: true,\n *     strategies: [\n *       {\n *         key: 'my-custom-key',        // 自定義存儲鍵名\n *         storage: localStorage,        // 存儲位置\n *         paths: ['user', 'settings'], // 只持久化指定路徑\n *       }\n *     ]\n *   }\n * }\n * ```\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🚀 使用範例\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 在 MapTab.vue 中設置地圖實例：\n * ```javascript\n * import { useDataStore } from '@/stores/dataStore';\n *\n * export default {\n *   setup(_, { emit }) {\n *     const dataStore = useDataStore();\n *\n *     const createMap = () => {\n *       const map = new maplibregl.Map({ ... });\n *\n *       map.on('load', () => {\n *         // 保存地圖實例到 store\n *         dataStore.setMapInstance(map);\n *\n *         // 通知父組件\n *         emit('map-ready', map);\n *       });\n *     };\n *   }\n * };\n * ```\n *\n * 在其他組件中訪問地圖：\n * ```javascript\n * import { useDataStore } from '@/stores/dataStore';\n *\n * export default {\n *   setup() {\n *     const dataStore = useDataStore();\n *\n *     // 獲取地圖實例\n *     const map = dataStore.mapInstance;\n *\n *     // 操作地圖\n *     if (map) {\n *       map.flyTo({ center: [120.9, 23.7], zoom: 10 });\n *       map.setPitch(60);\n *       map.setBearing(45);\n *     }\n *   }\n * };\n * ```\n *\n * 使用解構（需要 storeToRefs）：\n * ```javascript\n * import { storeToRefs } from 'pinia';\n * import { useDataStore } from '@/stores/dataStore';\n *\n * const dataStore = useDataStore();\n * const { mapInstance } = storeToRefs(dataStore); // 保持響應式\n * const { setMapInstance } = dataStore;           // 方法不需要 toRefs\n *\n * // 監聽地圖實例變化\n * watch(mapInstance, (newMap) => {\n *   if (newMap) {\n *     console.log('地圖已就緒');\n *   }\n * });\n * ```\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 💡 未來可能的擴展\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 1. 添加地圖狀態追蹤：\n * ```javascript\n * const mapState = ref({\n *   center: [120.9, 23.7],\n *   zoom: 6.8,\n *   pitch: 60,\n *   bearing: 0,\n *   bounds: null\n * });\n *\n * const updateMapState = () => {\n *   if (mapInstance.value) {\n *     mapState.value.center = mapInstance.value.getCenter().toArray();\n *     mapState.value.zoom = mapInstance.value.getZoom();\n *     mapState.value.pitch = mapInstance.value.getPitch();\n *     mapState.value.bearing = mapInstance.value.getBearing();\n *   }\n * };\n * ```\n *\n * 2. 添加選中的縣市數據：\n * ```javascript\n * const selectedCounty = ref(null);\n * const selectedCountyData = ref(null);\n *\n * const selectCounty = (countyName) => {\n *   selectedCounty.value = countyName;\n *   // 載入縣市詳細數據\n *   loadCountyData(countyName).then(data => {\n *     selectedCountyData.value = data;\n *   });\n * };\n *\n * const clearSelection = () => {\n *   selectedCounty.value = null;\n *   selectedCountyData.value = null;\n * };\n * ```\n *\n * 3. 添加地圖圖層管理：\n * ```javascript\n * const visibleLayers = ref({\n *   'counties-3d': true,\n *   'counties-outline': true,\n *   'osm-tiles-layer': true\n * });\n *\n * const toggleLayer = (layerId) => {\n *   visibleLayers.value[layerId] = !visibleLayers.value[layerId];\n *\n *   if (mapInstance.value) {\n *     const visibility = visibleLayers.value[layerId] ? 'visible' : 'none';\n *     mapInstance.value.setLayoutProperty(layerId, 'visibility', visibility);\n *   }\n * };\n * ```\n *\n * 4. 添加載入狀態管理：\n * ```javascript\n * const isMapLoading = ref(true);\n * const loadingProgress = ref(0);\n *\n * const setLoadingState = (loading, progress = 0) => {\n *   isMapLoading.value = loading;\n *   loadingProgress.value = progress;\n * };\n * ```\n *\n * 5. 添加錯誤處理：\n * ```javascript\n * const mapError = ref(null);\n *\n * const setMapError = (error) => {\n *   mapError.value = error;\n *   console.error('[DataStore] 地圖錯誤:', error);\n * };\n *\n * const clearMapError = () => {\n *   mapError.value = null;\n * };\n * ```\n *\n * ─────────────────────────────────────────────────────────────────────────\n * ⚠️ 注意事項\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 1. 地圖實例的生命週期\n *    - 地圖實例在組件卸載時需要手動清理\n *    - 調用 map.remove() 釋放資源\n *    - 清理後將 store 中的實例設為 null\n *\n * 2. 響應式注意事項\n *    - 地圖實例本身不是響應式的\n *    - 只有 ref(mapInstance) 是響應式的\n *    - 對地圖的操作不會觸發 Vue 的更新\n *\n * 3. 內存洩漏風險\n *    - MapLibre GL 地圖佔用較多內存\n *    - 確保頁面離開時正確清理\n *    - 避免創建多個地圖實例\n *\n * 4. localStorage 限制\n *    - localStorage 有 5-10MB 的大小限制\n *    - 不要在 store 中存儲大量數據\n *    - 地圖實例無法序列化，不會被持久化\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📁 相關文件\n * ─────────────────────────────────────────────────────────────────────────\n * - src/stores/defineStore.js  - 配置和定義數據存儲\n * - src/tabs/MapTab.vue        - 地圖組件（創建地圖實例）\n * - src/views/HomeView.vue     - 主頁面（橋接地圖和 store）\n * - src/main.js                - Pinia 初始化\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🔗 相關文檔\n * ─────────────────────────────────────────────────────────────────────────\n * - Pinia 官網：https://pinia.vuejs.org/\n * - Pinia Composition API：https://pinia.vuejs.org/core-concepts/#setup-stores\n * - Pinia 持久化：https://prazdevs.github.io/pinia-plugin-persistedstate/\n * - MapLibre GL JS：https://maplibre.org/maplibre-gl-js/docs/\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📝 版本資訊\n * ─────────────────────────────────────────────────────────────────────────\n * @author 30 Day Map Challenge Team\n * @version 2.0.0\n * @since 2025\n * @license MIT\n *\n * ═══════════════════════════════════════════════════════════════════════════\n */\n\n// ═══════════════════════════════════════════════════════════════════════════\n// 📦 依賴導入 (Dependencies Import)\n// ═══════════════════════════════════════════════════════════════════════════\n\n/**\n * 從 Pinia 導入 defineStore 函數\n * 用於創建 store 實例\n */\nimport { defineStore } from 'pinia';\n\n/**\n * 從 Vue 導入 ref 函數\n * 用於創建響應式引用\n *\n * ref 創建的響應式數據：\n * - 可以在 store 中使用\n * - 可以在組件中使用 storeToRefs 解構保持響應性\n * - 通過 .value 訪問和修改值\n */\nimport { ref } from 'vue';\n\n// ═══════════════════════════════════════════════════════════════════════════\n// 🏪 數據存儲商店定義 (Data Store Definition)\n// ═══════════════════════════════════════════════════════════════════════════\n\n/**\n * 數據存儲 (Data Store)\n *\n * 使用 Pinia Composition API 語法定義數據存儲 store。\n * 負責管理應用程式的核心運行時數據，特別是 MapLibre GL 地圖實例。\n *\n * Store ID: 'data'\n * - 此 ID 必須在整個應用程式中唯一\n * - 用於 Vue DevTools 中識別此 store\n * - 在持久化時作為 localStorage 鍵名的一部分\n *\n * 語法說明：\n * defineStore(id, setup, options)\n * - id: store 唯一標識符\n * - setup: 設置函數（Composition API 語法）\n * - options: 配置選項（如持久化設置）\n *\n * @returns {Object} 包含所有狀態和方法的 store 實例\n */\nexport const useDataStore = defineStore(\n  // ───────────────────────────────────────────────────────────────────────\n  // 🏷️ Store ID\n  // ───────────────────────────────────────────────────────────────────────\n\n  /**\n   * Store 唯一標識符\n   *\n   * 命名規範：\n   * - 使用小寫字母\n   * - 使用描述性名稱\n   * - 避免與其他 store 衝突\n   *\n   * 本 store 使用 'data' 作為 ID，表示存儲應用程式的核心數據。\n   */\n  'data',\n\n  // ───────────────────────────────────────────────────────────────────────\n  // ⚙️ Setup 函數（Composition API）\n  // ───────────────────────────────────────────────────────────────────────\n\n  /**\n   * Store 設置函數\n   *\n   * 這是 Pinia Composition API 的核心部分，類似於 Vue 組件的 setup()。\n   * 在這裡定義所有的響應式狀態、計算屬性和方法。\n   *\n   * 執行時機：\n   * - 在首次調用 useDataStore() 時執行\n   * - 只執行一次（單例模式）\n   * - 返回的對象會被 Pinia 管理\n   *\n   * @returns {Object} 包含所有暴露的狀態和方法\n   */\n  () => {\n    // ═══════════════════════════════════════════════════════════════════════\n    // 📊 響應式狀態定義 (Reactive State Definitions)\n    // ═══════════════════════════════════════════════════════════════════════\n\n    /**\n     * 地圖實例 (Map Instance)\n     *\n     * 存儲 MapLibre GL Map 對象的響應式引用。\n     *\n     * 類型：Ref<maplibregl.Map | null>\n     * 初始值：null（地圖未初始化時）\n     *\n     * 生命週期：\n     * 1. 初始狀態：null\n     * 2. MapTab 創建地圖後：maplibregl.Map 實例\n     * 3. 組件卸載時：應重置為 null\n     *\n     * 用途：\n     * - 提供全局訪問地圖實例的能力\n     * - 允許多個組件操作同一個地圖\n     * - 避免通過 props/events 傳遞地圖實例\n     *\n     * 訪問方式：\n     * - 在 setup 函數內：mapInstance.value\n     * - 在組件中：dataStore.mapInstance\n     *\n     * 注意事項：\n     * - 地圖實例本身不是響應式的\n     * - 只有 ref 包裹的引用是響應式的\n     * - 對地圖的操作（如 flyTo）不會觸發 Vue 更新\n     * - 無法被序列化，不會被持久化到 localStorage\n     *\n     * 相關方法：\n     * - setMapInstance(map) - 設置地圖實例\n     *\n     * @type {Ref<maplibregl.Map|null>}\n     */\n    const mapInstance = ref(null);\n\n    // ═══════════════════════════════════════════════════════════════════════\n    // 🔧 方法定義 (Method Definitions / Actions)\n    // ═══════════════════════════════════════════════════════════════════════\n\n    /**\n     * 設置地圖實例 (Set Map Instance)\n     *\n     * 將 MapLibre GL Map 實例保存到 store 中，供全局訪問。\n     *\n     * 調用時機：\n     * - MapTab.vue 中地圖創建完成後（map.on('load') 事件中）\n     * - 通常在地圖初始化流程的最後一步調用\n     *\n     * 調用者：\n     * - MapTab.vue: 創建地圖實例\n     * - HomeView.vue: 接收 'map-ready' 事件後調用此方法\n     *\n     * 使用範例：\n     * ```javascript\n     * // 在 MapTab.vue 中\n     * map.on('load', () => {\n     *   dataStore.setMapInstance(map);\n     *   emit('map-ready', map);\n     * });\n     *\n     * // 或在 HomeView.vue 中\n     * const setMapInstance = (map) => {\n     *   dataStore.setMapInstance(map);\n     * };\n     * ```\n     *\n     * 副作用：\n     * - 更新 mapInstance 的值\n     * - 觸發訂閱了 mapInstance 的響應式更新\n     * - 可能觸發 watch/watchEffect 監聽器\n     *\n     * 最佳實踐：\n     * - 只在地圖完全初始化後調用\n     * - 避免多次調用（地圖應該只創建一次）\n     * - 組件卸載時考慮重置為 null\n     *\n     * 清理示例：\n     * ```javascript\n     * onUnmounted(() => {\n     *   if (map) {\n     *     map.remove();\n     *   }\n     *   dataStore.setMapInstance(null);\n     * });\n     * ```\n     *\n     * @param {maplibregl.Map|null} map - MapLibre GL Map 實例或 null\n     * @returns {void}\n     *\n     * @example\n     * // 設置地圖實例\n     * const map = new maplibregl.Map({ ... });\n     * dataStore.setMapInstance(map);\n     *\n     * @example\n     * // 清理地圖實例\n     * dataStore.setMapInstance(null);\n     */\n    const setMapInstance = (map) => {\n      mapInstance.value = map;\n\n      // 開發環境調試信息\n      if (process.env.NODE_ENV === 'development') {\n        if (map) {\n          console.log('[DataStore] 地圖實例已設置');\n        } else {\n          console.log('[DataStore] 地圖實例已清除');\n        }\n      }\n    };\n\n    // ═══════════════════════════════════════════════════════════════════════\n    // 📤 返回暴露的內容 (Return Exposed Content)\n    // ═══════════════════════════════════════════════════════════════════════\n\n    /**\n     * 返回對象\n     *\n     * 將需要暴露給外部使用的狀態和方法打包成對象返回。\n     * 這些內容會成為 store 實例的屬性和方法。\n     *\n     * 暴露的內容：\n     * - mapInstance: 響應式地圖實例引用\n     * - setMapInstance: 設置地圖實例的方法\n     *\n     * 訪問方式：\n     * ```javascript\n     * const dataStore = useDataStore();\n     *\n     * // 訪問狀態\n     * const map = dataStore.mapInstance;\n     *\n     * // 調用方法\n     * dataStore.setMapInstance(newMap);\n     * ```\n     *\n     * 解構使用（保持響應性）：\n     * ```javascript\n     * import { storeToRefs } from 'pinia';\n     * const dataStore = useDataStore();\n     * const { mapInstance } = storeToRefs(dataStore); // 響應式\n     * const { setMapInstance } = dataStore;           // 方法\n     * ```\n     *\n     * 注意：\n     * - 狀態需要使用 storeToRefs 解構才能保持響應性\n     * - 方法可以直接解構，不需要 toRefs\n     * - 不要直接解構狀態，會失去響應性\n     */\n    return {\n      // 響應式狀態\n      mapInstance,\n\n      // 方法（Actions）\n      setMapInstance,\n    };\n  },\n\n  // ───────────────────────────────────────────────────────────────────────\n  // ⚙️ Store 配置選項 (Store Configuration Options)\n  // ───────────────────────────────────────────────────────────────────────\n\n  /**\n   * Store 配置對象\n   *\n   * 提供額外的配置選項來增強 store 的功能。\n   */\n  {\n    // ═══════════════════════════════════════════════════════════════════════\n    // 💾 持久化配置 (Persistence Configuration)\n    // ═══════════════════════════════════════════════════════════════════════\n\n    /**\n     * 啟用狀態持久化 (Enable State Persistence)\n     *\n     * 使用 pinia-plugin-persistedstate 插件將 store 狀態保存到\n     * localStorage，實現頁面重載後狀態恢復。\n     *\n     * 值：true\n     * - 啟用自動持久化\n     * - 使用默認配置\n     *\n     * 默認配置：\n     * - 存儲位置：localStorage\n     * - 鍵名：'pinia-data'（'pinia-' + store id）\n     * - 持久化內容：整個 store 的狀態\n     * - 序列化方式：JSON.stringify/parse\n     *\n     * 工作流程：\n     * 1. 狀態變化時自動保存到 localStorage\n     * 2. 頁面重載時自動從 localStorage 恢復\n     * 3. 無法序列化的值會被忽略（如 Map 實例）\n     *\n     * 特殊情況：\n     * - mapInstance 是 MapLibre GL Map 對象\n     * - Map 對象無法被 JSON 序列化\n     * - 因此 mapInstance 實際不會被持久化\n     * - 每次重載頁面都需要重新創建地圖\n     *\n     * 如果需要自定義持久化配置：\n     * ```javascript\n     * {\n     *   persist: {\n     *     key: 'my-data-store',\n     *     storage: sessionStorage,    // 使用 sessionStorage\n     *     paths: ['someOtherState'],  // 只持久化指定狀態\n     *   }\n     * }\n     * ```\n     *\n     * 插件安裝：\n     * 需要在 main.js 中註冊 pinia-plugin-persistedstate：\n     * ```javascript\n     * import { createPinia } from 'pinia';\n     * import piniaPluginPersistedstate from 'pinia-plugin-persistedstate';\n     *\n     * const pinia = createPinia();\n     * pinia.use(piniaPluginPersistedstate);\n     * ```\n     *\n     * 清除持久化數據：\n     * ```javascript\n     * localStorage.removeItem('pinia-data');\n     * ```\n     *\n     * @type {boolean}\n     */\n    persist: true,\n  }\n);\n","import { render } from \"./MapTab.vue?vue&type=template&id=79f72a60\"\nimport script from \"./MapTab.vue?vue&type=script&lang=js\"\nexport * from \"./MapTab.vue?vue&type=script&lang=js\"\n\nimport \"./MapTab.vue?vue&type=style&index=0&id=79f72a60&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=3aac21ed\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=3aac21ed&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/**\n * ═══════════════════════════════════════════════════════════════════════════\n * 🚀 Vue Router 路由配置文件\n * ═══════════════════════════════════════════════════════════════════════════\n *\n * @fileoverview\n * 本文件負責配置整個應用程式的路由系統，使用 Vue Router 4 實現單頁應用程式\n * (SPA) 的頁面導航功能。採用 HTML5 History API 模式，提供無 hash (#) 的\n * 乾淨 URL 結構。\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📋 主要功能\n * ─────────────────────────────────────────────────────────────────────────\n * 1. 路由定義：配置應用程式的所有可訪問頁面路徑\n * 2. History 模式：使用 HTML5 History API 實現無 hash URL\n * 3. 基礎路徑：支援 GitHub Pages 部署的路徑配置\n * 4. 組件映射：將 URL 路徑與 Vue 組件綁定\n * 5. 導航管理：處理頁面切換和路由跳轉\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🏗️ 路由模式說明\n * ─────────────────────────────────────────────────────────────────────────\n *\n * HTML5 History 模式 (createWebHistory):\n * - ✅ 優點：URL 更美觀，無 # 符號 (例如: /about 而非 /#/about)\n * - ✅ 優點：更符合 RESTful 設計風格\n * - ⚠️ 注意：需要服務器配置支援 (所有路徑都回傳 index.html)\n * - ⚠️ 注意：GitHub Pages 需要特殊配置 (404.html 重定向)\n *\n * Hash 模式 (createWebHashHistory):\n * - 無需服務器配置，使用 URL hash (#) 部分模擬路由\n * - 適合靜態文件服務器或無法配置服務器的環境\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🌐 部署環境配置\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 本專案部署於 GitHub Pages，基礎路徑為:\n * https://kevin7261.github.io/30DayMapChallenge-17_A-new-tool/\n *\n * 路徑配置考量：\n * - publicPath (vue.config.js): 定義靜態資源的基礎路徑\n * - base (router): 定義路由的基礎路徑\n * - 兩者必須一致以確保資源正確載入\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🛠️ 技術架構\n * ─────────────────────────────────────────────────────────────────────────\n * @requires vue-router@4    - Vue 3 官方路由管理庫\n * @requires vue@3          - Vue 3 核心框架\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📁 相關文件\n * ─────────────────────────────────────────────────────────────────────────\n * - vue.config.js          - Vue CLI 項目配置 (publicPath 設定)\n * - public/404.html        - GitHub Pages 404 重定向頁面\n * - src/views/HomeView.vue - 主頁面組件\n * - src/main.js            - 路由器註冊入口\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📝 使用範例\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 在組件中使用路由:\n *\n * // 模板中使用 router-link 導航\n * <router-link to=\"/\">首頁</router-link>\n *\n * // 程式碼中使用 router 對象導航\n * import { useRouter } from 'vue-router';\n * const router = useRouter();\n * router.push('/about');\n *\n * // 獲取當前路由資訊\n * import { useRoute } from 'vue-router';\n * const route = useRoute();\n * console.log(route.path, route.name);\n *\n * ─────────────────────────────────────────────────────────────────────────\n * ⚙️ 路由守衛 (Navigation Guards)\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 本專案目前未使用路由守衛，但可依需求添加：\n *\n * 全局前置守衛：\n * router.beforeEach((to, from, next) => {\n *   // 在每次路由切換前執行\n *   // 可用於權限檢查、登入驗證等\n *   next();\n * });\n *\n * 全局後置鉤子：\n * router.afterEach((to, from) => {\n *   // 在每次路由切換後執行\n *   // 可用於頁面追蹤、埋點統計等\n * });\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📝 版本資訊\n * ─────────────────────────────────────────────────────────────────────────\n * @author 30 Day Map Challenge Team\n * @version 2.0.0\n * @since 2025\n * @license MIT\n *\n * ═══════════════════════════════════════════════════════════════════════════\n */\n\n// ═══════════════════════════════════════════════════════════════════════════\n// 📦 依賴導入 (Dependencies Import)\n// ═══════════════════════════════════════════════════════════════════════════\n\n// Vue Router 4 核心函數\n// - createRouter: 創建路由器實例的工廠函數\n// - createWebHistory: 創建 HTML5 History 模式的路由\nimport { createRouter, createWebHistory } from 'vue-router';\n\n// 頁面組件導入\n// 使用靜態導入 (static import) 確保首頁立即可用\n// 如需代碼分割可改用動態導入: () => import('../views/HomeView.vue')\nimport HomeView from '../views/HomeView.vue';\n\n// ═══════════════════════════════════════════════════════════════════════════\n// 📍 路由配置陣列 (Routes Configuration Array)\n// ═══════════════════════════════════════════════════════════════════════════\n\n/**\n * 路由配置陣列\n *\n * 定義應用程式中所有可訪問的頁面路徑及其對應的 Vue 組件。\n * 每個路由對象包含以下屬性：\n *\n * @property {string} path - URL 路徑，相對於 base URL\n *   - '/' 代表根路徑 (首頁)\n *   - '/about' 代表關於頁面 (範例)\n *   - '/user/:id' 代表動態路由，:id 是參數 (範例)\n *\n * @property {string} name - 路由名稱，用於程式碼中的路由跳轉\n *   - 使用 router.push({ name: 'Home' }) 進行命名路由跳轉\n *   - 建議使用 PascalCase 命名規範\n *\n * @property {Component} component - 對應的 Vue 組件\n *   - 可以是靜態導入的組件 (編譯時載入)\n *   - 也可以是動態導入的組件 (運行時按需載入)\n *\n * @property {Object} [meta] - 路由元信息 (可選)\n *   - 可存儲自定義數據，如頁面標題、權限要求等\n *   - 範例: { title: '首頁', requiresAuth: false }\n *\n * @property {Array} [children] - 子路由配置 (可選)\n *   - 用於實現嵌套路由結構\n *   - 子路由會渲染在父組件的 <router-view> 中\n *\n * @property {Function} [beforeEnter] - 路由級守衛 (可選)\n *   - 進入該路由前執行的鉤子函數\n *   - 可用於該路由專屬的權限檢查\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🚀 路由擴展範例\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 添加新路由：\n * {\n *   path: '/about',\n *   name: 'About',\n *   component: () => import('../views/AboutView.vue'), // 懶加載\n *   meta: { title: '關於我們' }\n * }\n *\n * 動態路由參數：\n * {\n *   path: '/user/:id',\n *   name: 'User',\n *   component: UserView,\n *   props: true // 將路由參數作為 props 傳遞給組件\n * }\n *\n * 嵌套路由：\n * {\n *   path: '/dashboard',\n *   component: DashboardLayout,\n *   children: [\n *     { path: '', component: DashboardHome },\n *     { path: 'settings', component: DashboardSettings }\n *   ]\n * }\n *\n * 重定向：\n * {\n *   path: '/old-path',\n *   redirect: '/new-path'\n * }\n *\n * 命名視圖：\n * {\n *   path: '/layout',\n *   components: {\n *     default: MainContent,\n *     sidebar: Sidebar,\n *     footer: Footer\n *   }\n * }\n */\nconst routes = [\n  {\n    // 🏠 首頁路由 (Home Route)\n    //\n    // 路徑: '/'\n    // 功能: 顯示台灣縣市 3D 地圖\n    // 組件: HomeView.vue (包含 MapTab.vue 地圖組件)\n    //\n    // URL 範例:\n    // - 開發環境: http://localhost:8080/30DayMapChallenge-17_A-new-tool/\n    // - 生產環境: https://kevin7261.github.io/30DayMapChallenge-17_A-new-tool/\n    path: '/',\n    name: 'Home',\n    component: HomeView,\n  },\n\n  // ─────────────────────────────────────────────────────────────────────\n  // 💡 添加更多路由的位置\n  // ─────────────────────────────────────────────────────────────────────\n  //\n  // 未來可以在這裡添加更多路由，例如：\n  // - 關於頁面\n  // - 使用說明頁面\n  // - 數據來源頁面\n  // - 設定頁面\n  // - 404 錯誤頁面 (catch-all route)\n  //\n  // 404 路由範例 (應放在陣列最後):\n  // {\n  //   path: '/:pathMatch(.*)*',\n  //   name: 'NotFound',\n  //   component: () => import('../views/NotFound.vue')\n  // }\n];\n\n// ═══════════════════════════════════════════════════════════════════════════\n// 🛣️ 路由器實例創建 (Router Instance Creation)\n// ═══════════════════════════════════════════════════════════════════════════\n\n/**\n * 創建並配置 Vue Router 實例\n *\n * 使用 createRouter() 工廠函數創建路由器，並配置以下選項：\n *\n * ─────────────────────────────────────────────────────────────────────────\n * @param {Object} options - 路由器配置選項\n * ─────────────────────────────────────────────────────────────────────────\n *\n * @param {History} options.history - 歷史記錄模式\n *   使用 createWebHistory() 創建 HTML5 History API 模式\n *   參數 '/30DayMapChallenge-17_A-new-tool/' 是應用程式的基礎路徑\n *\n *   基礎路徑說明：\n *   - 本地開發: http://localhost:8080/30DayMapChallenge-17_A-new-tool/\n *   - GitHub Pages: https://kevin7261.github.io/30DayMapChallenge-17_A-new-tool/\n *\n *   為什麼需要基礎路徑？\n *   - GitHub Pages 將專案部署在子路徑下 (非網站根目錄)\n *   - 路由器需要知道基礎路徑才能正確解析 URL\n *   - 確保路由跳轉和瀏覽器返回功能正常運作\n *\n *   基礎路徑的影響：\n *   - 路由 '/' 實際對應 '/30DayMapChallenge-17_A-new-tool/'\n *   - 路由 '/about' 實際對應 '/30DayMapChallenge-17_A-new-tool/about'\n *   - 靜態資源也會相對此基礎路徑載入\n *\n * @param {Array<RouteRecord>} options.routes - 路由配置陣列\n *   包含所有路由定義的陣列\n *   路由器會按陣列順序進行匹配\n *   更具體的路由應該放在前面\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 📊 其他可用配置選項 (未使用但可選)\n * ─────────────────────────────────────────────────────────────────────────\n *\n * @param {Function} [scrollBehavior] - 滾動行為控制\n *   控制路由切換時的頁面滾動位置\n *   範例: (to, from, savedPosition) => savedPosition || { top: 0 }\n *\n * @param {boolean} [linkActiveClass] - 活動鏈接的 CSS 類名\n *   預設為 'router-link-active'\n *   用於標記當前匹配的路由鏈接\n *\n * @param {boolean} [linkExactActiveClass] - 精確活動鏈接的 CSS 類名\n *   預設為 'router-link-exact-active'\n *   只有完全匹配時才添加此類名\n *\n * @param {boolean} [strict] - 嚴格模式\n *   是否區分路由路徑的尾部斜槓\n *   預設 false: '/users' 和 '/users/' 視為相同\n *\n * @param {boolean} [sensitive] - 大小寫敏感\n *   路由匹配是否區分大小寫\n *   預設 false: '/Users' 和 '/users' 視為相同\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🔧 進階配置範例\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 帶滾動行為的路由器：\n * const router = createRouter({\n *   history: createWebHistory('/30DayMapChallenge-17_A-new-tool/'),\n *   routes,\n *   scrollBehavior(to, from, savedPosition) {\n *     if (savedPosition) {\n *       return savedPosition; // 返回上次位置\n *     } else if (to.hash) {\n *       return { el: to.hash }; // 滾動到錨點\n *     } else {\n *       return { top: 0 }; // 滾動到頂部\n *     }\n *   }\n * });\n *\n * ─────────────────────────────────────────────────────────────────────────\n * ⚡ 效能優化建議\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 1. 路由懶加載 (Lazy Loading):\n *    使用動態 import 進行代碼分割，減少初始加載大小\n *    component: () => import('../views/AboutView.vue')\n *\n * 2. 路由預取 (Prefetch):\n *    webpack 會自動為懶加載路由添加 prefetch hint\n *    可透過 webpack 註解控制: webpackPrefetch: true\n *\n * 3. 路由預載 (Preload):\n *    對於即將訪問的路由，可以提前載入\n *    使用 webpackPreload: true 註解\n *\n * 4. 路由分組:\n *    將相關路由放在同一個 chunk 中\n *    使用 webpackChunkName: 'group-name' 註解\n *\n * ─────────────────────────────────────────────────────────────────────────\n * 🐛 除錯技巧\n * ─────────────────────────────────────────────────────────────────────────\n *\n * 查看當前路由信息：\n * console.log(router.currentRoute.value);\n *\n * 查看所有註冊的路由：\n * console.log(router.getRoutes());\n *\n * 檢查路由是否匹配：\n * const match = router.resolve('/about');\n * console.log(match);\n */\nconst router = createRouter({\n  // 使用 HTML5 History API 模式\n  // 基礎路徑設定為 GitHub Pages 部署路徑\n  history: createWebHistory('/30DayMapChallenge-17_A-new-tool/'),\n\n  // 路由配置陣列\n  routes,\n});\n\n// ═══════════════════════════════════════════════════════════════════════════\n// 📤 導出路由器實例 (Export Router Instance)\n// ═══════════════════════════════════════════════════════════════════════════\n\n/**\n * 導出路由器實例供 main.js 使用\n *\n * 在 main.js 中通過 app.use(router) 註冊路由器\n * 註冊後全應用可使用以下功能：\n * - <router-link> 組件: 宣告式導航\n * - <router-view> 組件: 路由視圖佔位符\n * - useRouter() 組合式 API: 獲取路由器實例\n * - useRoute() 組合式 API: 獲取當前路由信息\n * - this.$router (Options API): 路由器實例\n * - this.$route (Options API): 當前路由信息\n */\nexport default router;\n","/**\n * 🚀 應用程式主入口文件 (Main Application Entry Point)\n *\n * 本文件是整個 Vue.js 應用程式的啟動入口，負責初始化所有核心系統和第三方依賴。\n * 採用模組化設計，確保各系統間的依賴關係清晰明確。\n *\n * 📋 主要功能模組：\n * 1. 🎨 樣式系統初始化 - Bootstrap 5 + 自定義主題 + 第三方 UI 庫樣式\n * 2. 🧩 Vue 3 應用程式核心 - 使用 Composition API 的現代化 Vue 架構\n * 3. 🗺️ 路由系統配置 - Vue Router 4 單頁應用程式導航管理\n * 4. 📦 狀態管理系統 - Pinia 全域狀態管理和數據持久化\n * 5. 🌍 DOM 掛載與渲染 - 將應用程式掛載到 HTML 容器中\n * 6. 🔧 第三方庫整合 - D3.js 地圖、Font Awesome 圖示、Bootstrap 組件\n *\n * 🏗️ 技術架構：\n * - Vue 3.3+ (Composition API + <script setup> 語法)\n * - Vue Router 4 (聲明式路由配置)\n * - Pinia 2+ (輕量級狀態管理，替代 Vuex)\n * - Bootstrap 5.3+ (響應式 UI 框架)\n * - D3.js 7+ (數據可視化和地圖繪製庫)\n * - Font Awesome 6+ (向量圖示庫)\n *\n * 🔄 初始化流程：\n * 1. 載入所有必要的樣式和 JavaScript 依賴\n * 2. 創建 Vue 應用程式實例\n * 3. 配置並註冊路由系統\n * 4. 配置並註冊狀態管理系統\n * 5. 將應用程式掛載到 DOM 元素\n * 6. 輸出初始化完成日誌\n *\n * 📁 相關文件：\n * - ./App.vue - 根組件\n * - ./router/index.js - 路由配置\n * - ./stores/ - Pinia 狀態管理模組\n * - ./assets/css/ - 自定義樣式文件\n */\n\n// 🔧 Vue 核心模組引入 (Vue Core Module Imports)\nimport { createApp } from 'vue';\nimport { createPinia } from 'pinia';\n\n// 🧩 應用程式組件引入 (Application Component Imports)\nimport App from './App.vue';\nimport router from './router';\n\n// 🎨 引入第三方樣式文件 (Import Third-Party Style Files)\nimport 'bootstrap/dist/css/bootstrap.min.css'; // Bootstrap 5 CSS 框架\nimport '@fortawesome/fontawesome-free/css/all.min.css'; // Font Awesome 圖示庫\n\n// 🎨 引入自定義樣式文件 (Import Custom Style Files)\nimport './assets/css/common.css'; // 共用樣式（已包含變數和主題配置）\n\n// ⚙️ 引入第三方 JavaScript 文件 (Import Third-Party JavaScript Files)\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js'; // Bootstrap JS（含 Popper.js）\n// 提供下拉選單、模態框、工具提示等互動功能\n\n// 🐛 調試資訊輸出 (Debug Information Output)\nconsole.log('🎨 樣式文件載入完成');\n\n// 🚀 創建並配置 Vue 應用程式實例 (Create and Configure Vue Application Instance)\nconst app = createApp(App);\n\n// 📦 創建 Pinia 狀態管理實例 (Create Pinia State Management Instance)\nconst pinia = createPinia();\n\n// 🗺️ 註冊 Vue Router 路由系統 (Register Vue Router Navigation System)\napp.use(router);\n\n// 📦 註冊 Pinia 狀態管理系統 (Register Pinia State Management System)\napp.use(pinia);\n\n// 🌍 掛載應用程式到 DOM 元素 (Mount Application to DOM Element)\n// 將 Vue 應用程式掛載到 index.html 中 id=\"app\" 的元素上\napp.mount('#app');\n\n// 🐛 應用程式啟動完成的調試資訊 (Application Startup Debug Information)\nconsole.log('🚀 空間分析視覺化平台已啟動');\nconsole.log('📦 Pinia 狀態管理已初始化');\nconsole.log('🗺️ Vue Router 路由系統已就緒');\nconsole.log('🎨 Bootstrap 5 UI 框架已載入');\nconsole.log('🗺️ D3.js 地圖庫已準備就緒');\nconsole.log('🔤 Font Awesome 圖示庫已載入');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_30daymapchallenge_17_a_new_tool\"] = self[\"webpackChunk_30daymapchallenge_17_a_new_tool\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9727); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","name","__exports__","render","class","_component_MapTab","onMapReady","$setup","setMapInstance","_createElementVNode","mapContainerId","ref","useDataStore","defineStore","mapInstance","map","value","persist","emits","setup","_","emit","dataStore","mapContainer","viewer","isMapReady","Math","random","toString","substr","countyData","loadCountyData","async","console","log","countyResponse","fetch","ok","Error","status","json","features","length","error","addNuclearPlants","plants","fullName","lon","lat","forEach","plant","entities","add","position","Cesium","fromDegrees","point","pixelSize","color","YELLOW","disableDepthTestDistance","Number","POSITIVE_INFINITY","heightReference","CLAMP_TO_GROUND","ellipse","semiMajorAxis","semiMinorAxis","material","outline","layers","sphereRadius","layer","heightOffset","radiusSquared","currentRadius","sqrt","opacity","t","r","g","b","height","NONE","add3DCountyLayers","feature","geometry","polygons","type","coordinates","polygonCoords","flatCoordinates","flat","polyline","positions","fromDegreesArray","width","WHITE","clampToGround","createMap","rect","getBoundingClientRect","warn","defaultAccessToken","terrainProvider","baseLayerPicker","navigationHelpButton","animation","timeline","fullscreenButton","vrButton","geocoder","homeButton","sceneModePicker","selectionIndicator","infoBox","navigationInstructionsInitiallyVisible","scene","debugShowFramesPerSecond","globe","show","imageryLayers","layerAdded","addEventListener","imageryProvider","errorEvent","camera","setView","destination","orientation","heading","toRadians","pitch","roll","screenSpaceCameraController","enableRotate","enableTranslate","enableZoom","enableTilt","depthTestAgainstTerrain","container","canvas","clientWidth","clientHeight","offsetWidth","offsetHeight","window","innerWidth","innerHeight","resize","initMap","attempts","maxAttempts","loaded","tryCreateMap","success","setTimeout","onMounted","nextTick","handleResize","onUnmounted","removeEventListener","destroy","components","MapTab","routes","path","component","HomeView","router","createRouter","history","createWebHistory","app","createApp","App","pinia","createPinia","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}