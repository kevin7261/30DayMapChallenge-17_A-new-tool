<script>
  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * ğŸ—ºï¸ MapTab.vue - MapLibre GL JS å°ç£ç¸£å¸‚ 3D åœ°åœ–çµ„ä»¶
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * @fileoverview
   * é€™æ˜¯ä¸€å€‹åŸºæ–¼ MapLibre GL JS çš„å°ç£ç¸£å¸‚ 3D åœ°åœ–è¦–è¦ºåŒ–çµ„ä»¶ã€‚
   * æœ¬çµ„ä»¶è² è²¬è¼‰å…¥ã€è™•ç†å’Œæ¸²æŸ“å°ç£ç¸£å¸‚é‚Šç•Œçš„ GeoJSON æ•¸æ“šï¼Œä¸¦æ”¯æŒ 3D è¦–è§’ã€‚
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * 1. ç¸£å¸‚é‚Šç•Œæ¸²æŸ“ï¼š
   *    âœ“ è¼‰å…¥ ç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson
   *    âœ“ ä»¥ 3D extrusion æ–¹å¼ç¹ªè£½æ‰€æœ‰å°ç£ç¸£å¸‚é‚Šç•Œ
   *    âœ“ æ¯å€‹ç¸£å¸‚ä½¿ç”¨ä¸åŒé¡è‰²
   *
   * 2. è¦–è¦ºå…ƒç´ ï¼š
   *    âœ“ 3D ç«‹é«”ç¸£å¸‚å€åŸŸï¼ˆ22ç¨®ä¸åŒé¡è‰²ï¼‰
   *    âœ“ é»‘è‰²ç¸£å¸‚é‚Šç•Œç·š
   *    âœ“ ç°è‰²åœ°åœ–èƒŒæ™¯
   *
   * 3. äº¤äº’åŠŸèƒ½ï¼š
   *    âœ“ æ»¾è¼ªç¸®æ”¾æ§åˆ¶
   *    âœ“ æ‹–å‹•å¹³ç§»å°èˆª
   *    âœ“ å³éµæ‹–å‹•æ—‹è½‰è¦–è§’ï¼ˆ3Dï¼‰
   *    âœ“ å‚¾æ–œè¦–è§’æ§åˆ¶
   *    âœ“ æ»‘é¼ æ‡¸åœé¡¯ç¤ºç¸£å¸‚åç¨±
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ğŸ¨ é…è‰²ä¸»é¡Œ
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * æ¯å€‹ç¸£å¸‚éƒ½æœ‰ç¨ç‰¹çš„é¡è‰²é…ç½®ï¼š
   * è‡ºåŒ—å¸‚ â†’ #FF6B6B (ç´…è‰²ç³»)
   * æ–°åŒ—å¸‚ â†’ #4ECDC4 (é’ç¶ è‰²)
   * åŸºéš†å¸‚ â†’ #45B7D1 (å¤©è—è‰²)
   * æ¡ƒåœ’å¸‚ â†’ #96CEB4 (è–„è·ç¶ )
   * æ–°ç«¹å¸‚ â†’ #FFEAA7 (æ·¡é»ƒè‰²)
   * æ–°ç«¹ç¸£ â†’ #DFE6E9 (æ·¡ç°è‰²)
   * è‹—æ —ç¸£ â†’ #74B9FF (è—è‰²)
   * è‡ºä¸­å¸‚ â†’ #A29BFE (ç´«è‰²)
   * å½°åŒ–ç¸£ â†’ #FD79A8 (ç²‰ç´…è‰²)
   * å—æŠ•ç¸£ â†’ #FDCB6E (é‡‘é»ƒè‰²)
   * é›²æ—ç¸£ â†’ #6C5CE7 (æ·±ç´«è‰²)
   * å˜‰ç¾©å¸‚ â†’ #00B894 (ç¶ è‰²)
   * å˜‰ç¾©ç¸£ â†’ #00CEC9 (è—ç¶ è‰²)
   * è‡ºå—å¸‚ â†’ #E17055 (æ©˜ç´…è‰²)
   * é«˜é›„å¸‚ â†’ #0984E3 (è—è‰²)
   * å±æ±ç¸£ â†’ #55EFC4 (æ·¡ç¶ è‰²)
   * å®œè˜­ç¸£ â†’ #A8E6CF (æ·ºç¶ è‰²)
   * èŠ±è“®ç¸£ â†’ #FFD93D (é»ƒè‰²)
   * è‡ºæ±ç¸£ â†’ #FF8B94 (ç²‰è‰²)
   * æ¾æ¹–ç¸£ â†’ #B4A7D6 (æ·¡ç´«è‰²)
   * é‡‘é–€ç¸£ â†’ #F3A683 (æ¡ƒè‰²)
   * é€£æ±Ÿç¸£ â†’ #81ECEC (é’è‰²)
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ğŸ› ï¸ æŠ€è¡“æ£§
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * @requires vue                 - Vue 3.2+ (Composition API)
   * @requires maplibre-gl         - MapLibre GL JS (3D åœ°åœ–åº«)
   * @requires @/stores/dataStore  - Pinia ç‹€æ…‹ç®¡ç†
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ğŸ“ æ•¸æ“šä¾†æº
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ç¸£å¸‚é‚Šç•Œæ•¸æ“šï¼šç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson
   * è·¯å¾‘ï¼špublic/data/geojson/ç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ğŸ”§ ä½¿ç”¨æ–¹å¼
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * <MapTab @map-ready="handleMapReady" />
   *
   * @event map-ready - åœ°åœ–åˆå§‹åŒ–å®Œæˆæ™‚è§¸ç™¼ï¼Œè¿”å›åœ°åœ–å¯¦ä¾‹
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ğŸ“ ç¶­è­·è€…
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * @author Kevin Cheng
   * @version 5.0.0
   * @since 2025
   * @license MIT
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ“¦ ä¾è³´å°å…¥ (Dependencies Import)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  // å¾ Vue 3 æ ¸å¿ƒåº«å°å…¥ Composition API æ‰€éœ€çš„åŠŸèƒ½
  import { ref, onMounted, onUnmounted, nextTick } from 'vue'; // ref: å‰µå»ºéŸ¿æ‡‰å¼å¼•ç”¨; onMounted: çµ„ä»¶æ›è¼‰é‰¤å­; onUnmounted: çµ„ä»¶å¸è¼‰é‰¤å­; nextTick: ç­‰å¾… DOM æ›´æ–°å®Œæˆ

  // å°å…¥ MapLibre GL JS åœ°åœ–åº«åŠå…¶æ¨£å¼
  import maplibregl from 'maplibre-gl'; // MapLibre GL JS æ ¸å¿ƒåº«ï¼Œç”¨æ–¼æ¸²æŸ“ WebGL åœ°åœ–
  import 'maplibre-gl/dist/maplibre-gl.css'; // MapLibre GL JS çš„ CSS æ¨£å¼æ–‡ä»¶

  // å¾ Pinia ç‹€æ…‹ç®¡ç†å°å…¥æ•¸æ“šå­˜å„²
  import { useDataStore } from '@/stores/dataStore'; // æ•¸æ“šå­˜å„² hookï¼Œç”¨æ–¼ç®¡ç†å…¨å±€åœ°åœ–ç‹€æ…‹

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ¯ çµ„ä»¶å®šç¾© (Component Definition)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  export default {
    // å°å‡º Vue çµ„ä»¶é…ç½®å°è±¡
    name: 'MapTab', // çµ„ä»¶åç¨±ï¼Œç”¨æ–¼èª¿è©¦å’Œ Vue DevTools ä¸­è­˜åˆ¥

    // è²æ˜çµ„ä»¶æœƒè§¸ç™¼çš„äº‹ä»¶
    emits: [
      // emits é¸é …ï¼Œç”¨æ–¼è²æ˜çµ„ä»¶æœƒè§¸ç™¼å“ªäº›äº‹ä»¶
      'map-ready', // 'map-ready' äº‹ä»¶ï¼šåœ°åœ–åˆå§‹åŒ–å®Œæˆæ™‚è§¸ç™¼ï¼Œå‚³éåœ°åœ–å¯¦ä¾‹çµ¦çˆ¶çµ„ä»¶
    ], // äº‹ä»¶åˆ—è¡¨çµæŸ

    /**
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * ğŸ¬ çµ„ä»¶è¨­ç½®å‡½æ•¸ (Component Setup Function)
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * ä½¿ç”¨ Vue 3 Composition API è¨­ç½®çµ„ä»¶é‚è¼¯
     *
     * @param {Object} _ - Propsï¼ˆæœ¬çµ„ä»¶ä¸ä½¿ç”¨ï¼Œç”¨ _ è¡¨ç¤ºå¿½ç•¥ï¼‰
     * @param {Object} context - è¨­ç½®ä¸Šä¸‹æ–‡ï¼ŒåŒ…å« emitã€attrsã€slotsã€expose
     * @param {Function} context.emit - äº‹ä»¶è§¸ç™¼å‡½æ•¸ï¼Œç”¨æ–¼å‘çˆ¶çµ„ä»¶ç™¼é€äº‹ä»¶
     * @returns {Object} è¿”å›æ¨¡æ¿å¯ç”¨çš„éŸ¿æ‡‰å¼æ•¸æ“šå’Œæ–¹æ³•
     */
    setup(_, { emit }) {
      // setup å‡½æ•¸ï¼šçµ„ä»¶çš„é‚è¼¯å…¥å£é»ï¼Œæ¥æ”¶ props å’Œ context
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // ğŸ“¦ ç‹€æ…‹ç®¡ç†èˆ‡ä¾è³´ (State Management & Dependencies)
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      // åˆå§‹åŒ– Pinia æ•¸æ“šå­˜å„²å¯¦ä¾‹
      const dataStore = useDataStore(); // èª¿ç”¨ useDataStore hook ç²å–æ•¸æ“šå­˜å„²å¯¦ä¾‹ï¼Œç”¨æ–¼å…¨å±€ç‹€æ…‹ç®¡ç†

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // ğŸ—ºï¸ åœ°åœ–ç›¸é—œè®Šæ•¸ (Map-Related Variables)
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      /**
       * åœ°åœ– DOM å®¹å™¨å¼•ç”¨
       * ç”¨æ–¼ç¶å®šåˆ°æ¨¡æ¿ä¸­çš„ div å…ƒç´ ï¼Œè®“ MapLibre å¯ä»¥åœ¨æ­¤å®¹å™¨ä¸­æ¸²æŸ“åœ°åœ–
       * @type {Ref<HTMLElement|null>}
       */
      const mapContainer = ref(null); // ref(null): å‰µå»ºéŸ¿æ‡‰å¼å¼•ç”¨ï¼Œåˆå§‹å€¼ç‚º nullï¼Œç¨å¾Œç¶å®šåˆ°æ¨¡æ¿çš„ div å…ƒç´ 

      /**
       * MapLibre GL åœ°åœ–å¯¦ä¾‹
       * å­˜å„²å‰µå»ºçš„åœ°åœ–å°è±¡ï¼Œç”¨æ–¼æ“ä½œåœ°åœ–ï¼ˆå¦‚æ·»åŠ åœ–å±¤ã€æ§åˆ¶è¦–è§’ç­‰ï¼‰
       * @type {maplibregl.Map|null}
       */
      let map = null; // åˆå§‹åŒ–ç‚º nullï¼Œåœ¨ createMap() å‡½æ•¸ä¸­è³¦å€¼ç‚º MapLibre Map å¯¦ä¾‹

      /**
       * Popup å¯¦ä¾‹
       * ç”¨æ–¼é¡¯ç¤ºç¸£å¸‚åç¨±çš„å½ˆå‡ºçª—å£
       * @type {maplibregl.Popup|null}
       */
      let popup = null; // åˆå§‹åŒ–ç‚º nullï¼Œåœ¨ add3DCountyLayers() å‡½æ•¸ä¸­å‰µå»º Popup å¯¦ä¾‹

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // ğŸ›ï¸ æ§åˆ¶ç‹€æ…‹ (Control States)
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      /**
       * åœ°åœ–å°±ç·’ç‹€æ…‹æ¨™è¨˜
       * true = åœ°åœ–å·²åˆå§‹åŒ–å®Œæˆä¸¦å¯ä»¥ä½¿ç”¨
       * false = å°šæœªåˆå§‹åŒ–æˆ–åˆå§‹åŒ–å¤±æ•—
       * @type {Ref<boolean>}
       */
      const isMapReady = ref(false); // ref(false): å‰µå»ºéŸ¿æ‡‰å¼å¸ƒçˆ¾å€¼ï¼Œåˆå§‹ç‚º falseï¼Œåœ°åœ–è¼‰å…¥å¾Œè¨­ç‚º true

      /**
       * åœ°åœ–å®¹å™¨å”¯ä¸€ ID
       * ä½¿ç”¨éš¨æ©Ÿå­—ç¬¦ä¸²ç¢ºä¿å¤šå¯¦ä¾‹æ™‚ä¸æœƒè¡çª
       * ä¾‹å¦‚ï¼š'maplibre-map-a7x3k9z'
       * @type {Ref<string>}
       */
      const mapContainerId = ref(`maplibre-map-${Math.random().toString(36).substr(2, 9)}`); // ç”Ÿæˆéš¨æ©Ÿ IDï¼šMath.random() ç”Ÿæˆéš¨æ©Ÿæ•¸ï¼ŒtoString(36) è½‰ç‚º 36 é€²åˆ¶å­—ç¬¦ä¸²ï¼Œsubstr(2, 9) å– 9 å€‹å­—ç¬¦

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // ğŸ“Š GeoJSON æ•¸æ“šå„²å­˜ (GeoJSON Data Storage)
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      /**
       * ç¸£å¸‚ GeoJSON æ•¸æ“š
       * å­˜å„²å¾ public/data/geojson/ è¼‰å…¥çš„å°ç£ç¸£å¸‚é‚Šç•Œæ•¸æ“š
       * æ•¸æ“šæ ¼å¼ï¼š{ type: 'FeatureCollection', features: [...] }
       * ä¾†æºï¼šç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson
       * @type {Ref<Object|null>}
       */
      const countyData = ref(null); // ref(null): å‰µå»ºéŸ¿æ‡‰å¼å¼•ç”¨ï¼Œåˆå§‹ç‚º nullï¼Œè¼‰å…¥æ•¸æ“šå¾Œå­˜å„² GeoJSON å°è±¡

      /**
       * ğŸ“¥ è¼‰å…¥å°ç£ç¸£å¸‚ GeoJSON æ•¸æ“š
       * ä½¿ç”¨ fetch API å¾ public ç›®éŒ„è¼‰å…¥ GeoJSON æª”æ¡ˆ
       * @returns {Promise<boolean>} æˆåŠŸè¿”å› trueï¼Œå¤±æ•—è¿”å› false
       */
      const loadCountyData = async () => {
        // async: æ¨™è¨˜ç‚ºç•°æ­¥å‡½æ•¸ï¼Œå¯ä»¥ä½¿ç”¨ await
        try {
          // try-catch: æ•ç²ç•°å¸¸ï¼Œè™•ç†è¼‰å…¥å¤±æ•—çš„æƒ…æ³
          console.log('[MapTab] é–‹å§‹è¼‰å…¥å°ç£ç¸£å¸‚ GeoJSON æ•¸æ“š...'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„é–‹å§‹è¼‰å…¥æ•¸æ“š

          // ä½¿ç”¨ fetch API è¼‰å…¥ç¸£å¸‚ GeoJSON æª”æ¡ˆ
          const countyResponse = await fetch(
            // await: ç­‰å¾… fetch å®Œæˆï¼Œè¿”å› Response å°è±¡
            `${process.env.BASE_URL}data/geojson/ç›´è½„å¸‚ã€ç¸£(å¸‚)ç•Œç·š1140318.geojson` // process.env.BASE_URL: å¾ç’°å¢ƒè®Šé‡ç²å–åŸºç¤è·¯å¾‘ï¼ˆå¦‚ '/30DayMapChallenge-17_A-new-tool/'ï¼‰
          ); // fetch: ç™¼é€ HTTP GET è«‹æ±‚è¼‰å…¥ GeoJSON æª”æ¡ˆ

          // æª¢æŸ¥ HTTP éŸ¿æ‡‰ç‹€æ…‹æ˜¯å¦æˆåŠŸï¼ˆ200-299ï¼‰
          if (!countyResponse.ok) {
            // !countyResponse.ok: æª¢æŸ¥éŸ¿æ‡‰æ˜¯å¦å¤±æ•—ï¼ˆç‹€æ…‹ç¢¼ä¸åœ¨ 200-299 ç¯„åœï¼‰
            throw new Error(`ç¸£å¸‚æ•¸æ“šè¼‰å…¥å¤±æ•—: HTTP ${countyResponse.status}`); // æ‹‹å‡ºéŒ¯èª¤ï¼šåŒ…å« HTTP ç‹€æ…‹ç¢¼çš„éŒ¯èª¤è¨Šæ¯
          } // if çµæŸï¼šéŸ¿æ‡‰å¤±æ•—è™•ç†

          // è§£æéŸ¿æ‡‰çš„ JSON æ•¸æ“šä¸¦å­˜å„²åˆ° countyData
          countyData.value = await countyResponse.json(); // await countyResponse.json(): ç­‰å¾…è§£æ JSONï¼Œè¿”å› JavaScript å°è±¡; .value: è¨ªå• ref çš„å¯¦éš›å€¼

          console.log('[MapTab] å°ç£ç¸£å¸‚æ•¸æ“šè¼‰å…¥æˆåŠŸ'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„æ•¸æ“šè¼‰å…¥æˆåŠŸ
          console.log('  - ç¸£å¸‚æ•¸é‡:', countyData.value.features?.length || 0); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„è¼‰å…¥çš„ç¸£å¸‚æ•¸é‡; ?.length: å¯é¸éŠï¼Œé¿å… undefined éŒ¯èª¤; || 0: å¦‚æœç‚º undefined å‰‡è¿”å› 0

          return true; // è¿”å› true è¡¨ç¤ºè¼‰å…¥æˆåŠŸ
        } catch (error) {
          // catch: æ•ç² try å€å¡Šä¸­çš„ä»»ä½•éŒ¯èª¤
          console.error('[MapTab] å°ç£ç¸£å¸‚æ•¸æ“šè¼‰å…¥å¤±æ•—:', error); // è¼¸å‡ºéŒ¯èª¤æ—¥èªŒï¼šè¨˜éŒ„éŒ¯èª¤è©³æƒ…
          return false; // è¿”å› false è¡¨ç¤ºè¼‰å…¥å¤±æ•—
        } // try-catch çµæŸ
      }; // loadCountyData å‡½æ•¸çµæŸ

      /**
       * ğŸ—ºï¸ æ·»åŠ  3D ç¸£å¸‚åœ–å±¤
       * å°‡è¼‰å…¥çš„ GeoJSON æ•¸æ“šæ·»åŠ åˆ°åœ°åœ–ä¸Šï¼ŒåŒ…æ‹¬ 3D ç«‹é«”åœ–å±¤å’Œé‚Šç•Œç·šåœ–å±¤
       * åŒæ™‚è¨­ç½®æ»‘é¼ æ‡¸åœäº¤äº’æ•ˆæœ
       */
      const add3DCountyLayers = () => {
        // å®šç¾©æ·»åŠ  3D åœ–å±¤çš„å‡½æ•¸
        // æª¢æŸ¥åœ°åœ–å¯¦ä¾‹å’Œæ•¸æ“šæ˜¯å¦å·²æº–å‚™å¥½
        if (!map || !countyData.value) {
          // æª¢æŸ¥ map å’Œ countyData.value æ˜¯å¦å­˜åœ¨
          console.error('[MapTab] ç„¡æ³•æ·»åŠ åœ–å±¤: map=', !!map, 'countyData=', !!countyData.value); // è¼¸å‡ºéŒ¯èª¤æ—¥èªŒï¼šè¨˜éŒ„ç¼ºå°‘çš„è³‡æº; !!: è½‰æ›ç‚ºå¸ƒçˆ¾å€¼
          return; // æå‰è¿”å›ï¼Œä¸åŸ·è¡Œå¾ŒçºŒä»£ç¢¼
        } // if çµæŸï¼šè³‡æºæª¢æŸ¥

        try {
          // try-catch: æ•ç²æ·»åŠ åœ–å±¤æ™‚çš„ç•°å¸¸
          console.log('[MapTab] é–‹å§‹æ·»åŠ  3D å°ç£ç¸£å¸‚åœ–å±¤'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„é–‹å§‹æ·»åŠ åœ–å±¤

          // å°‡ GeoJSON æ•¸æ“šæ·»åŠ ç‚ºåœ°åœ–æ•¸æ“šæº
          map.addSource('counties', {
            // addSource: æ·»åŠ æ•¸æ“šæºåˆ°åœ°åœ–; 'counties': æ•¸æ“šæº ID
            type: 'geojson', // type: æ•¸æ“šæºé¡å‹ç‚º GeoJSON
            data: countyData.value, // data: æŒ‡å®š GeoJSON æ•¸æ“šå°è±¡
          }); // addSource çµæŸ

          // æ·»åŠ  3D extrusion åœ–å±¤ï¼ˆç«‹é«”ç¸£å¸‚å€åŸŸï¼‰
          map.addLayer({
            // addLayer: æ·»åŠ åœ–å±¤åˆ°åœ°åœ–
            id: 'counties-3d', // id: åœ–å±¤å”¯ä¸€æ¨™è­˜ç¬¦ï¼Œç”¨æ–¼å¾ŒçºŒæ“ä½œåœ–å±¤
            type: 'fill-extrusion', // type: åœ–å±¤é¡å‹ç‚º fill-extrusionï¼ˆ3D ç«‹é«”å¡«å……ï¼‰
            source: 'counties', // source: ä½¿ç”¨çš„æ•¸æ“šæº IDï¼Œå°æ‡‰ä¸Šé¢æ·»åŠ çš„ 'counties'
            paint: {
              // paint: ç¹ªè£½å±¬æ€§ï¼Œå®šç¾©åœ–å±¤çš„è¦–è¦ºæ¨£å¼
              'fill-extrusion-color': [
                // 'fill-extrusion-color': 3D å¡«å……é¡è‰²å±¬æ€§
                'match', // 'match': MapLibre è¡¨é”å¼ï¼Œæ ¹æ“šæ¢ä»¶åŒ¹é…è¿”å›ä¸åŒå€¼
                ['get', 'COUNTYNAME'], // ['get', 'COUNTYNAME']: ç²å– GeoJSON è¦ç´ çš„ COUNTYNAME å±¬æ€§
                'è‡ºåŒ—å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'è‡ºåŒ—å¸‚'
                '#FF6B6B', // è¿”å›å€¼ï¼šè‡ºåŒ—å¸‚çš„é¡è‰²ï¼ˆç´…è‰²ç³»ï¼‰
                'æ–°åŒ—å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'æ–°åŒ—å¸‚'
                '#4ECDC4', // è¿”å›å€¼ï¼šæ–°åŒ—å¸‚çš„é¡è‰²ï¼ˆé’ç¶ è‰²ï¼‰
                'åŸºéš†å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'åŸºéš†å¸‚'
                '#45B7D1', // è¿”å›å€¼ï¼šåŸºéš†å¸‚çš„é¡è‰²ï¼ˆå¤©è—è‰²ï¼‰
                'æ¡ƒåœ’å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'æ¡ƒåœ’å¸‚'
                '#96CEB4', // è¿”å›å€¼ï¼šæ¡ƒåœ’å¸‚çš„é¡è‰²ï¼ˆè–„è·ç¶ ï¼‰
                'æ–°ç«¹å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'æ–°ç«¹å¸‚'
                '#FFEAA7', // è¿”å›å€¼ï¼šæ–°ç«¹å¸‚çš„é¡è‰²ï¼ˆæ·¡é»ƒè‰²ï¼‰
                'æ–°ç«¹ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'æ–°ç«¹ç¸£'
                '#DFE6E9', // è¿”å›å€¼ï¼šæ–°ç«¹ç¸£çš„é¡è‰²ï¼ˆæ·¡ç°è‰²ï¼‰
                'è‹—æ —ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'è‹—æ —ç¸£'
                '#74B9FF', // è¿”å›å€¼ï¼šè‹—æ —ç¸£çš„é¡è‰²ï¼ˆè—è‰²ï¼‰
                'è‡ºä¸­å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'è‡ºä¸­å¸‚'
                '#A29BFE', // è¿”å›å€¼ï¼šè‡ºä¸­å¸‚çš„é¡è‰²ï¼ˆç´«è‰²ï¼‰
                'å½°åŒ–ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'å½°åŒ–ç¸£'
                '#FD79A8', // è¿”å›å€¼ï¼šå½°åŒ–ç¸£çš„é¡è‰²ï¼ˆç²‰ç´…è‰²ï¼‰
                'å—æŠ•ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'å—æŠ•ç¸£'
                '#FDCB6E', // è¿”å›å€¼ï¼šå—æŠ•ç¸£çš„é¡è‰²ï¼ˆé‡‘é»ƒè‰²ï¼‰
                'é›²æ—ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'é›²æ—ç¸£'
                '#6C5CE7', // è¿”å›å€¼ï¼šé›²æ—ç¸£çš„é¡è‰²ï¼ˆæ·±ç´«è‰²ï¼‰
                'å˜‰ç¾©å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'å˜‰ç¾©å¸‚'
                '#00B894', // è¿”å›å€¼ï¼šå˜‰ç¾©å¸‚çš„é¡è‰²ï¼ˆç¶ è‰²ï¼‰
                'å˜‰ç¾©ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'å˜‰ç¾©ç¸£'
                '#00CEC9', // è¿”å›å€¼ï¼šå˜‰ç¾©ç¸£çš„é¡è‰²ï¼ˆè—ç¶ è‰²ï¼‰
                'è‡ºå—å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'è‡ºå—å¸‚'
                '#E17055', // è¿”å›å€¼ï¼šè‡ºå—å¸‚çš„é¡è‰²ï¼ˆæ©˜ç´…è‰²ï¼‰
                'é«˜é›„å¸‚', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'é«˜é›„å¸‚'
                '#0984E3', // è¿”å›å€¼ï¼šé«˜é›„å¸‚çš„é¡è‰²ï¼ˆè—è‰²ï¼‰
                'å±æ±ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'å±æ±ç¸£'
                '#55EFC4', // è¿”å›å€¼ï¼šå±æ±ç¸£çš„é¡è‰²ï¼ˆæ·¡ç¶ è‰²ï¼‰
                'å®œè˜­ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'å®œè˜­ç¸£'
                '#A8E6CF', // è¿”å›å€¼ï¼šå®œè˜­ç¸£çš„é¡è‰²ï¼ˆæ·ºç¶ è‰²ï¼‰
                'èŠ±è“®ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'èŠ±è“®ç¸£'
                '#FFD93D', // è¿”å›å€¼ï¼šèŠ±è“®ç¸£çš„é¡è‰²ï¼ˆé»ƒè‰²ï¼‰
                'è‡ºæ±ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'è‡ºæ±ç¸£'
                '#FF8B94', // è¿”å›å€¼ï¼šè‡ºæ±ç¸£çš„é¡è‰²ï¼ˆç²‰è‰²ï¼‰
                'æ¾æ¹–ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'æ¾æ¹–ç¸£'
                '#B4A7D6', // è¿”å›å€¼ï¼šæ¾æ¹–ç¸£çš„é¡è‰²ï¼ˆæ·¡ç´«è‰²ï¼‰
                'é‡‘é–€ç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'é‡‘é–€ç¸£'
                '#F3A683', // è¿”å›å€¼ï¼šé‡‘é–€ç¸£çš„é¡è‰²ï¼ˆæ¡ƒè‰²ï¼‰
                'é€£æ±Ÿç¸£', // æ¢ä»¶ï¼šç¸£å¸‚åç¨±ç‚º 'é€£æ±Ÿç¸£'
                '#81ECEC', // è¿”å›å€¼ï¼šé€£æ±Ÿç¸£çš„é¡è‰²ï¼ˆé’è‰²ï¼‰
                // é è¨­é¡è‰²ï¼šå¦‚æœç¸£å¸‚åç¨±ä¸åŒ¹é…ä»¥ä¸Šä»»ä½•ä¸€å€‹ï¼Œä½¿ç”¨æ­¤é¡è‰²
                '#CCCCCC', // é è¨­é¡è‰²ï¼šç°è‰²ï¼ˆç”¨æ–¼æœªçŸ¥ç¸£å¸‚æˆ–æ•¸æ“šéŒ¯èª¤æƒ…æ³ï¼‰
              ], // 'fill-extrusion-color' å±¬æ€§çµæŸ
              'fill-extrusion-height': 50000, // 'fill-extrusion-height': 3D ç«‹é«”é«˜åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰ï¼Œè¨­ç‚º 50000 ç±³ï¼ˆ50 å…¬é‡Œï¼‰
              'fill-extrusion-base': 0, // 'fill-extrusion-base': 3D ç«‹é«”åŸºç¤é«˜åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰ï¼Œè¨­ç‚º 0 è¡¨ç¤ºå¾åœ°é¢é–‹å§‹
              'fill-extrusion-opacity': 0.8, // 'fill-extrusion-opacity': 3D ç«‹é«”é€æ˜åº¦ï¼Œ0.8 è¡¨ç¤º 80% ä¸é€æ˜åº¦
            }, // paint å±¬æ€§çµæŸ
          }); // addLayer çµæŸï¼š3D åœ–å±¤

          // æ·»åŠ ç¸£å¸‚é‚Šç•Œç·šåœ–å±¤ï¼ˆæé‚Šæ•ˆæœï¼‰
          map.addLayer({
            // addLayer: å†æ¬¡æ·»åŠ åœ–å±¤ï¼Œé€™æ¬¡æ˜¯é‚Šç•Œç·š
            id: 'counties-outline', // id: åœ–å±¤å”¯ä¸€æ¨™è­˜ç¬¦ï¼Œç”¨æ–¼é‚Šç•Œç·šåœ–å±¤
            type: 'line', // type: åœ–å±¤é¡å‹ç‚º lineï¼ˆç·šæ¢ï¼‰
            source: 'counties', // source: ä½¿ç”¨ç›¸åŒçš„æ•¸æ“šæº 'counties'
            paint: {
              // paint: ç¹ªè£½å±¬æ€§ï¼Œå®šç¾©ç·šæ¢çš„è¦–è¦ºæ¨£å¼
              'line-color': '#000000', // 'line-color': ç·šæ¢é¡è‰²è¨­ç‚ºé»‘è‰²
              'line-width': 2, // 'line-width': ç·šæ¢å¯¬åº¦è¨­ç‚º 2 åƒç´ 
            }, // paint å±¬æ€§çµæŸ
          }); // addLayer çµæŸï¼šé‚Šç•Œç·šåœ–å±¤

          // å‰µå»ºæŒä¹…çš„ popup å¯¦ä¾‹ï¼Œç”¨æ–¼é¡¯ç¤ºç¸£å¸‚åç¨±
          popup = new maplibregl.Popup({
            // new maplibregl.Popup: å‰µå»ºæ–°çš„ Popup å¯¦ä¾‹
            closeButton: false, // closeButton: ä¸é¡¯ç¤ºé—œé–‰æŒ‰éˆ•
            closeOnClick: false, // closeOnClick: é»æ“Šåœ°åœ–æ™‚ä¸é—œé–‰ popup
            className: 'county-popup', // className: è‡ªå®šç¾© CSS é¡åï¼Œç”¨æ–¼æ¨£å¼è¨­ç½®
          }); // Popup å¯¦ä¾‹å‰µå»ºçµæŸ

          // æ·»åŠ æ»‘é¼ æ‡¸åœæ•ˆæœï¼šç•¶æ»‘é¼ ç§»å‹•åˆ°ç¸£å¸‚ä¸Šæ™‚é¡¯ç¤ºç¸£å¸‚åç¨±
          map.on('mousemove', 'counties-3d', (e) => {
            // map.on: ç›£è½äº‹ä»¶; 'mousemove': æ»‘é¼ ç§»å‹•äº‹ä»¶; 'counties-3d': ç›£è½æ­¤åœ–å±¤; (e): äº‹ä»¶å°è±¡
            map.getCanvas().style.cursor = 'pointer'; // å°‡æ»‘é¼ æ¸¸æ¨™è¨­ç‚º pointerï¼ˆæ‰‹å‹ï¼‰ï¼Œè¡¨ç¤ºå¯äº¤äº’; getCanvas(): ç²å–åœ°åœ– canvas å…ƒç´ 

            if (e.features && e.features.length > 0) {
              // æª¢æŸ¥äº‹ä»¶æ˜¯å¦åŒ…å«è¦ç´ ï¼ˆfeaturesï¼‰ä¸”æ•¸é‡å¤§æ–¼ 0
              const feature = e.features[0]; // ç²å–ç¬¬ä¸€å€‹è¦ç´ ï¼ˆæ»‘é¼ æ‡¸åœçš„ç¸£å¸‚ï¼‰
              const countyName = feature.properties.COUNTYNAME || 'æœªçŸ¥ç¸£å¸‚'; // å¾è¦ç´ å±¬æ€§ä¸­ç²å– COUNTYNAMEï¼Œå¦‚æœä¸å­˜åœ¨å‰‡ä½¿ç”¨ 'æœªçŸ¥ç¸£å¸‚'

              // æ›´æ–° popup ä½ç½®å’Œå…§å®¹ï¼Œä¸¦æ·»åŠ åˆ°åœ°åœ–ä¸Š
              popup.setLngLat(e.lngLat).setHTML(`<strong>${countyName}</strong>`).addTo(map); // setLngLat: è¨­ç½® popup ä½ç½®ç‚ºæ»‘é¼ åæ¨™; setHTML: è¨­ç½® popup å…§å®¹ç‚ºç¸£å¸‚åç¨±; addTo: å°‡ popup æ·»åŠ åˆ°åœ°åœ–
            } // if çµæŸï¼šè¦ç´ æª¢æŸ¥
          }); // mousemove äº‹ä»¶ç›£è½çµæŸ

          // æ·»åŠ æ»‘é¼ é›¢é–‹æ•ˆæœï¼šç•¶æ»‘é¼ é›¢é–‹ç¸£å¸‚æ™‚éš±è— popup
          map.on('mouseleave', 'counties-3d', () => {
            // map.on: ç›£è½äº‹ä»¶; 'mouseleave': æ»‘é¼ é›¢é–‹äº‹ä»¶; 'counties-3d': ç›£è½æ­¤åœ–å±¤
            map.getCanvas().style.cursor = ''; // æ¢å¾©æ»‘é¼ æ¸¸æ¨™ç‚ºé»˜èªæ¨£å¼ï¼ˆç®­é ­ï¼‰
            // ç§»é™¤ popup
            if (popup) {
              // æª¢æŸ¥ popup æ˜¯å¦å­˜åœ¨
              popup.remove(); // å¾åœ°åœ–ä¸Šç§»é™¤ popup
            } // if çµæŸï¼špopup å­˜åœ¨æª¢æŸ¥
          }); // mouseleave äº‹ä»¶ç›£è½çµæŸ

          console.log('[MapTab] 3D å°ç£ç¸£å¸‚åœ–å±¤æ·»åŠ å®Œæˆ'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„åœ–å±¤æ·»åŠ å®Œæˆ
        } catch (error) {
          // catch: æ•ç²æ·»åŠ åœ–å±¤æ™‚çš„éŒ¯èª¤
          console.error('[MapTab] 3D å°ç£ç¸£å¸‚åœ–å±¤æ·»åŠ å¤±æ•—:', error); // è¼¸å‡ºéŒ¯èª¤æ—¥èªŒï¼šè¨˜éŒ„éŒ¯èª¤è©³æƒ…
        } // try-catch çµæŸ
      }; // add3DCountyLayers å‡½æ•¸çµæŸ

      /**
       * ğŸ—ï¸ å‰µå»ºåœ°åœ–å¯¦ä¾‹
       * åˆå§‹åŒ– MapLibre GL åœ°åœ–ä¸¦è¨­å®šåŸºæœ¬é…ç½®ï¼ˆä¸­å¿ƒé»ã€ç¸®æ”¾ç´šåˆ¥ã€è¦–è§’ç­‰ï¼‰
       * @returns {boolean} æˆåŠŸè¿”å› trueï¼Œå¤±æ•—è¿”å› false
       */
      const createMap = () => {
        // å®šç¾©å‰µå»ºåœ°åœ–çš„å‡½æ•¸
        // æª¢æŸ¥ DOM å®¹å™¨æ˜¯å¦å·²æº–å‚™å¥½
        if (!mapContainer.value) return false; // å¦‚æœ mapContainer.value ç‚º nullï¼ˆDOM é‚„æœªæº–å‚™å¥½ï¼‰ï¼Œè¿”å› false

        // ç²å–å®¹å™¨çš„å°ºå¯¸ä¿¡æ¯
        const rect = mapContainer.value.getBoundingClientRect(); // getBoundingClientRect(): ç²å–å…ƒç´ çš„å°ºå¯¸å’Œä½ç½®ä¿¡æ¯
        if (rect.width === 0 || rect.height === 0) {
          // æª¢æŸ¥å®¹å™¨çš„å¯¬åº¦æˆ–é«˜åº¦æ˜¯å¦ç‚º 0
          console.warn('[MapTab] å®¹å™¨å°ºå¯¸ç‚ºé›¶ï¼Œå»¶é²åˆå§‹åŒ–'); // è¼¸å‡ºè­¦å‘Šæ—¥èªŒï¼šå®¹å™¨å°ºå¯¸ç‚ºé›¶ï¼Œéœ€è¦å»¶é²åˆå§‹åŒ–
          return false; // è¿”å› falseï¼Œè¡¨ç¤ºå‰µå»ºå¤±æ•—
        } // if çµæŸï¼šå°ºå¯¸æª¢æŸ¥

        try {
          // try-catch: æ•ç²å‰µå»ºåœ°åœ–æ™‚çš„ç•°å¸¸
          console.log('[MapTab] é–‹å§‹å‰µå»º MapLibre GL åœ°åœ–'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„é–‹å§‹å‰µå»ºåœ°åœ–

          // å‰µå»º MapLibre GL åœ°åœ–å¯¦ä¾‹
          map = new maplibregl.Map({
            // new maplibregl.Map: å‰µå»ºæ–°çš„åœ°åœ–å¯¦ä¾‹
            container: mapContainer.value, // container: æŒ‡å®šåœ°åœ–æ¸²æŸ“çš„ DOM å®¹å™¨
            style: {
              // style: åœ°åœ–æ¨£å¼é…ç½®å°è±¡
              version: 8, // version: MapLibre æ¨£å¼è¦ç¯„ç‰ˆæœ¬è™Ÿ
              sources: {
                // sources: æ•¸æ“šæºé…ç½®
                'osm-tiles': {
                  // 'osm-tiles': OpenStreetMap åœ–ç£šæ•¸æ“šæº
                  type: 'raster', // type: æ•¸æ“šæºé¡å‹ç‚º rasterï¼ˆæŸµæ ¼åœ–ç£šï¼‰
                  tiles: ['https://tile.openstreetmap.org/{z}/{x}/{y}.png'], // tiles: åœ–ç£š URL æ¨¡æ¿ï¼Œ{z}/{x}/{y} ç‚ºåœ–ç£šåæ¨™åƒæ•¸
                  tileSize: 256, // tileSize: åœ–ç£šå¤§å°ç‚º 256x256 åƒç´ 
                  // attribution: ç‰ˆæ¬Šè²æ˜æ–‡å­—
                  attribution:
                    '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors', // OpenStreetMap ç‰ˆæ¬Šè²æ˜ï¼ŒåŒ…å«è¶…é€£çµ
                }, // 'osm-tiles' æ•¸æ“šæºçµæŸ
              }, // sources çµæŸ
              layers: [
                // layers: åœ–å±¤é…ç½®æ•¸çµ„
                {
                  // ç¬¬ä¸€å€‹åœ–å±¤ï¼šèƒŒæ™¯åœ–å±¤
                  id: 'background', // id: åœ–å±¤å”¯ä¸€æ¨™è­˜ç¬¦
                  type: 'background', // type: åœ–å±¤é¡å‹ç‚º backgroundï¼ˆç´”è‰²èƒŒæ™¯ï¼‰
                  paint: {
                    // paint: ç¹ªè£½å±¬æ€§
                    'background-color': '#808080', // 'background-color': èƒŒæ™¯é¡è‰²è¨­ç‚ºç°è‰²
                  }, // paint çµæŸ
                }, // èƒŒæ™¯åœ–å±¤çµæŸ
                {
                  // ç¬¬äºŒå€‹åœ–å±¤ï¼šOpenStreetMap åœ–ç£šåœ–å±¤
                  id: 'osm-tiles-layer', // id: åœ–å±¤å”¯ä¸€æ¨™è­˜ç¬¦
                  type: 'raster', // type: åœ–å±¤é¡å‹ç‚º rasterï¼ˆæŸµæ ¼åœ–ç£šï¼‰
                  source: 'osm-tiles', // source: ä½¿ç”¨çš„æ•¸æ“šæº IDï¼Œå°æ‡‰ä¸Šé¢å®šç¾©çš„ 'osm-tiles'
                  minzoom: 0, // minzoom: æœ€å°ç¸®æ”¾ç´šåˆ¥ï¼Œ0 è¡¨ç¤ºä¸–ç•Œç´šåˆ¥
                  maxzoom: 22, // maxzoom: æœ€å¤§ç¸®æ”¾ç´šåˆ¥ï¼Œ22 è¡¨ç¤ºè¡—é“ç´šåˆ¥
                }, // OpenStreetMap åœ–ç£šåœ–å±¤çµæŸ
              ], // layers çµæŸ
            }, // style çµæŸ
            center: [120.9, 23.7], // center: åœ°åœ–ä¸­å¿ƒé»åæ¨™ [ç¶“åº¦, ç·¯åº¦]ï¼Œ120.9Â°E, 23.7Â°Nï¼ˆå°ç£ä¸­å¿ƒï¼‰
            zoom: 6.8, // zoom: åˆå§‹ç¸®æ”¾ç´šåˆ¥ï¼Œ6.8 è¡¨ç¤ºå¯ä»¥çœ‹åˆ°æ•´å€‹å°ç£
            pitch: 60, // pitch: å‚¾æ–œè§’åº¦ï¼ˆ0-60 åº¦ï¼‰ï¼Œ60 åº¦è¡¨ç¤º 3D è¦–è§’
            bearing: 0, // bearing: æ—‹è½‰è§’åº¦ï¼ˆ0-360 åº¦ï¼‰ï¼Œ0 åº¦è¡¨ç¤ºæ­£åŒ—æœä¸Š
            antialias: true, // antialias: é–‹å•ŸæŠ—é‹¸é½’ï¼Œä½¿åœ–å½¢é‚Šç·£æ›´å¹³æ»‘
          }); // Map å¯¦ä¾‹å‰µå»ºçµæŸ

          // æ·»åŠ å°èˆªæ§åˆ¶å™¨ï¼ˆç¸®æ”¾æŒ‰éˆ•å’ŒæŒ‡å—é‡ï¼‰
          map.addControl(new maplibregl.NavigationControl(), 'top-right'); // addControl: æ·»åŠ æ§åˆ¶å™¨; NavigationControl: å°èˆªæ§åˆ¶å™¨ï¼ˆåŒ…å«ç¸®æ”¾å’Œæ—‹è½‰æŒ‰éˆ•ï¼‰; 'top-right': æ§åˆ¶å™¨ä½ç½®ï¼ˆå³ä¸Šè§’ï¼‰

          // ç›£è½åœ°åœ–è¼‰å…¥å®Œæˆäº‹ä»¶
          map.on('load', () => {
            // map.on: ç›£è½äº‹ä»¶; 'load': åœ°åœ–è¼‰å…¥å®Œæˆäº‹ä»¶
            console.log('[MapTab] MapLibre GL åœ°åœ–è¼‰å…¥å®Œæˆ'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„åœ°åœ–è¼‰å…¥å®Œæˆ
            isMapReady.value = true; // å°‡åœ°åœ–å°±ç·’ç‹€æ…‹è¨­ç‚º true

            // æ·»åŠ  3D ç¸£å¸‚åœ–å±¤
            add3DCountyLayers(); // èª¿ç”¨æ·»åŠ åœ–å±¤å‡½æ•¸ï¼Œå°‡ç¸£å¸‚é‚Šç•Œæ•¸æ“šæ·»åŠ åˆ°åœ°åœ–

            // ä¿å­˜åœ°åœ–å¯¦ä¾‹åˆ° Pinia store
            dataStore.setMapInstance(map); // èª¿ç”¨ store çš„æ–¹æ³•ï¼Œå°‡åœ°åœ–å¯¦ä¾‹ä¿å­˜åˆ°å…¨å±€ç‹€æ…‹

            // å°‡åœ°åœ–å¯¦ä¾‹å‚³éçµ¦çˆ¶çµ„ä»¶
            emit('map-ready', map); // emit: è§¸ç™¼äº‹ä»¶; 'map-ready': äº‹ä»¶åç¨±; map: å‚³éçš„åƒæ•¸ï¼ˆåœ°åœ–å¯¦ä¾‹ï¼‰
          }); // 'load' äº‹ä»¶ç›£è½çµæŸ

          console.log('[MapTab] MapLibre GL åœ°åœ–å‰µå»ºæˆåŠŸ'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„åœ°åœ–å‰µå»ºæˆåŠŸ
          return true; // è¿”å› true è¡¨ç¤ºå‰µå»ºæˆåŠŸ
        } catch (error) {
          // catch: æ•ç²å‰µå»ºåœ°åœ–æ™‚çš„éŒ¯èª¤
          console.error('[MapTab] MapLibre GL åœ°åœ–å‰µå»ºå¤±æ•—:', error); // è¼¸å‡ºéŒ¯èª¤æ—¥èªŒï¼šè¨˜éŒ„éŒ¯èª¤è©³æƒ…
          return false; // è¿”å› false è¡¨ç¤ºå‰µå»ºå¤±æ•—
        } // try-catch çµæŸ
      }; // createMap å‡½æ•¸çµæŸ

      /**
       * ğŸš€ åˆå§‹åŒ–åœ°åœ–
       * å‰µå»ºåœ°åœ–ä¸¦è¼‰å…¥åˆå§‹æ•¸æ“šï¼ŒåŒ…å«é‡è©¦æ©Ÿåˆ¶
       */
      const initMap = async () => {
        // async: æ¨™è¨˜ç‚ºç•°æ­¥å‡½æ•¸ï¼Œå¯ä»¥ä½¿ç”¨ await
        let attempts = 0; // åˆå§‹åŒ–å˜—è©¦æ¬¡æ•¸ç‚º 0
        const maxAttempts = 20; // è¨­å®šæœ€å¤§å˜—è©¦æ¬¡æ•¸ç‚º 20 æ¬¡

        // è¼‰å…¥å°ç£ç¸£å¸‚æ•¸æ“š
        const loaded = await loadCountyData(); // await: ç­‰å¾…æ•¸æ“šè¼‰å…¥å®Œæˆ; loaded: å­˜å„²è¼‰å…¥çµæœï¼ˆtrue/falseï¼‰
        if (!loaded) {
          // æª¢æŸ¥æ•¸æ“šæ˜¯å¦è¼‰å…¥å¤±æ•—
          console.error('[MapTab] ç„¡æ³•è¼‰å…¥å°ç£ç¸£å¸‚æ•¸æ“š'); // è¼¸å‡ºéŒ¯èª¤æ—¥èªŒï¼šè¨˜éŒ„æ•¸æ“šè¼‰å…¥å¤±æ•—
          return; // æå‰è¿”å›ï¼Œä¸ç¹¼çºŒå‰µå»ºåœ°åœ–
        } // if çµæŸï¼šæ•¸æ“šè¼‰å…¥æª¢æŸ¥

        // å®šç¾©å‰µå»ºåœ°åœ–çš„å˜—è©¦å‡½æ•¸ï¼ˆæ”¯æŒé‡è©¦ï¼‰
        const tryCreateMap = async () => {
          // async: æ¨™è¨˜ç‚ºç•°æ­¥å‡½æ•¸
          if (attempts >= maxAttempts) {
            // æª¢æŸ¥å˜—è©¦æ¬¡æ•¸æ˜¯å¦å·²é”åˆ°æœ€å¤§å€¼
            console.error('[MapTab] åœ°åœ–åˆå§‹åŒ–å¤±æ•—ï¼Œå·²é”åˆ°æœ€å¤§å˜—è©¦æ¬¡æ•¸'); // è¼¸å‡ºéŒ¯èª¤æ—¥èªŒï¼šè¨˜éŒ„å·²é”åˆ°æœ€å¤§å˜—è©¦æ¬¡æ•¸
            return; // æå‰è¿”å›ï¼Œåœæ­¢é‡è©¦
          } // if çµæŸï¼šæœ€å¤§å˜—è©¦æ¬¡æ•¸æª¢æŸ¥

          attempts++; // å˜—è©¦æ¬¡æ•¸åŠ  1
          console.log(`[MapTab] å˜—è©¦å‰µå»ºåœ°åœ– (${attempts}/${maxAttempts})`); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„ç•¶å‰å˜—è©¦æ¬¡æ•¸

          if (createMap()) {
            // èª¿ç”¨ createMap() ä¸¦æª¢æŸ¥æ˜¯å¦æˆåŠŸ
            console.log('[MapTab] åœ°åœ–å‰µå»ºæˆåŠŸ'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„åœ°åœ–å‰µå»ºæˆåŠŸ
          } else {
            // å¦‚æœå‰µå»ºå¤±æ•—
            console.log('[MapTab] åœ°åœ–å‰µå»ºå¤±æ•—ï¼Œ100ms å¾Œé‡è©¦'); // è¼¸å‡ºæ—¥èªŒï¼šè¨˜éŒ„åœ°åœ–å‰µå»ºå¤±æ•—ï¼Œæº–å‚™é‡è©¦
            setTimeout(tryCreateMap, 100); // setTimeout: 100 æ¯«ç§’å¾Œå†æ¬¡èª¿ç”¨ tryCreateMapï¼Œå¯¦ç¾é‡è©¦
          } // if-else çµæŸï¼šå‰µå»ºçµæœæª¢æŸ¥
        }; // tryCreateMap å‡½æ•¸çµæŸ

        tryCreateMap(); // é–‹å§‹ç¬¬ä¸€æ¬¡å˜—è©¦å‰µå»ºåœ°åœ–
      }; // initMap å‡½æ•¸çµæŸ

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // ğŸ§¹ ç”Ÿå‘½é€±æœŸé‰¤å­ (Lifecycle Hooks)
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      // çµ„ä»¶æ›è¼‰æ™‚çš„è™•ç†
      onMounted(() => {
        // onMounted: Vue ç”Ÿå‘½é€±æœŸé‰¤å­ï¼Œçµ„ä»¶ DOM æ›è¼‰å¾ŒåŸ·è¡Œ
        nextTick(() => {
          // nextTick: ç­‰å¾… Vue å®Œæˆ DOM æ›´æ–°å¾ŒåŸ·è¡Œ
          initMap(); // èª¿ç”¨åˆå§‹åŒ–åœ°åœ–å‡½æ•¸
        }); // nextTick çµæŸ
      }); // onMounted çµæŸ

      // çµ„ä»¶å¸è¼‰æ™‚çš„æ¸…ç†
      onUnmounted(() => {
        // onUnmounted: Vue ç”Ÿå‘½é€±æœŸé‰¤å­ï¼Œçµ„ä»¶éŠ·æ¯€å‰åŸ·è¡Œ
        if (popup) {
          // æª¢æŸ¥ popup æ˜¯å¦å­˜åœ¨
          popup.remove(); // å¾åœ°åœ–ä¸Šç§»é™¤ popup
          popup = null; // å°‡ popup å¼•ç”¨è¨­ç‚º nullï¼Œé‡‹æ”¾å…§å­˜
        } // if çµæŸï¼špopup æ¸…ç†
        if (map) {
          // æª¢æŸ¥ map æ˜¯å¦å­˜åœ¨
          map.remove(); // ç§»é™¤åœ°åœ–å¯¦ä¾‹ï¼Œé‡‹æ”¾ WebGL è³‡æº
          map = null; // å°‡ map å¼•ç”¨è¨­ç‚º nullï¼Œé‡‹æ”¾å…§å­˜
        } // if çµæŸï¼šmap æ¸…ç†
        isMapReady.value = false; // å°‡åœ°åœ–å°±ç·’ç‹€æ…‹é‡ç½®ç‚º false
      }); // onUnmounted çµæŸ

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // ğŸ“¤ è¿”å›çµ„ä»¶å…¬é–‹çš„å±¬æ€§å’Œæ–¹æ³• (Return Exposed Properties and Methods)
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      // è¿”å›éœ€è¦æš´éœ²çµ¦æ¨¡æ¿ä½¿ç”¨çš„éŸ¿æ‡‰å¼æ•¸æ“š
      return {
        // return: è¿”å›å°è±¡ï¼ŒåŒ…å«æ¨¡æ¿éœ€è¦çš„æ•¸æ“šå’Œæ–¹æ³•
        mapContainer, // mapContainer: åœ°åœ–å®¹å™¨ refï¼Œç”¨æ–¼ç¶å®šåˆ°æ¨¡æ¿çš„ div å…ƒç´ 
        mapContainerId, // mapContainerId: åœ°åœ–å®¹å™¨å”¯ä¸€ IDï¼Œç”¨æ–¼è¨­ç½® div çš„ id å±¬æ€§
      }; // return çµæŸ
    }, // setup å‡½æ•¸çµæŸ
  }; // export default çµæŸ
</script>
<!-- script å€å¡ŠçµæŸ -->

<template>
  <!-- template å€å¡Šé–‹å§‹ï¼šå®šç¾©çµ„ä»¶çš„ HTML æ¨¡æ¿ -->
  <!-- ğŸ—ºï¸ åœ°åœ–ä¸»å®¹å™¨ï¼šä½¿ç”¨ Bootstrap æ¨£å¼é¡è¨­ç½®å¯¬é«˜ç‚º 100%ï¼Œç›¸å°å®šä½ï¼ŒèƒŒæ™¯é€æ˜ï¼Œz-index ç‚º 0 -->
  <div id="map-container" class="h-100 w-100 position-relative bg-transparent z-0">
    <!-- id="map-container": å®¹å™¨ ID; class="h-100 w-100": é«˜åº¦å’Œå¯¬åº¦éƒ½æ˜¯ 100%; position-relative: ç›¸å°å®šä½; bg-transparent: èƒŒæ™¯é€æ˜; z-0: z-index ç‚º 0 -->
    <!-- ğŸ—ºï¸ MapLibre GL åœ°åœ–å®¹å™¨ï¼šå‹•æ…‹ç¶å®š id å’Œ refï¼Œå¯¬é«˜ç‚º 100% -->
    <div :id="mapContainerId" ref="mapContainer" class="h-100 w-100"></div>
    <!-- :id="mapContainerId": å‹•æ…‹ç¶å®š id å±¬æ€§ç‚º mapContainerId çš„å€¼; ref="mapContainer": ç¶å®š ref åˆ° mapContainerï¼Œè®“ script å¯ä»¥è¨ªå•æ­¤ DOM å…ƒç´ ; class="h-100 w-100": é«˜åº¦å’Œå¯¬åº¦éƒ½æ˜¯ 100% -->
  </div>
  <!-- åœ°åœ–ä¸»å®¹å™¨çµæŸ -->
</template>
<!-- template å€å¡ŠçµæŸ -->

<style scoped>
  /* style å€å¡Šé–‹å§‹ï¼šå®šç¾©çµ„ä»¶çš„ CSS æ¨£å¼; scoped: æ¨£å¼åƒ…ä½œç”¨æ–¼ç•¶å‰çµ„ä»¶ */
  @import '../assets/css/common.css'; /* å°å…¥é€šç”¨ CSS æ¨£å¼æ–‡ä»¶ */

  #map-container {
    /* é¸æ“‡å™¨ï¼šé¸æ“‡ id ç‚º map-container çš„å…ƒç´  */
    overflow: hidden; /* éš±è—æº¢å‡ºå…§å®¹ï¼Œé˜²æ­¢æ»¾å‹•æ¢å‡ºç¾ */
  } /* #map-container æ¨£å¼çµæŸ */

  /* MapLibre GL åœ°åœ–å®¹å™¨æ¨£å¼ï¼šè¨­ç½®å­—é«” */
  :deep(.maplibregl-map) {
    /* :deep(): Vue æ·±åº¦é¸æ“‡å™¨ï¼Œç©¿é€ scoped é™åˆ¶ï¼Œé¸æ“‡å­çµ„ä»¶çš„å…ƒç´ ; .maplibregl-map: MapLibre åœ°åœ–å®¹å™¨çš„é¡å */
    font-family:
      'Open Sans', 'Arial', sans-serif; /* è¨­ç½®å­—é«”ç‚º Open Sansï¼Œå¦‚æœä¸å¯ç”¨å‰‡ä½¿ç”¨ Arialï¼Œæœ€å¾Œä½¿ç”¨ç³»çµ± sans-serif å­—é«” */
  } /* .maplibregl-map æ¨£å¼çµæŸ */

  /* MapLibre GL æ§åˆ¶å™¨æ¨£å¼ï¼šè¨­ç½®èƒŒæ™¯å’Œé‚Šæ¡† */
  :deep(.maplibregl-ctrl-group) {
    /* :deep(): æ·±åº¦é¸æ“‡å™¨; .maplibregl-ctrl-group: MapLibre æ§åˆ¶å™¨çµ„çš„é¡å */
    background: rgba(0, 43, 127, 0.95); /* èƒŒæ™¯è‰²ï¼šæ·±è—è‰²ï¼Œé€æ˜åº¦ 95% */
    border: 1px solid #ffc61e; /* é‚Šæ¡†ï¼š1 åƒç´ å¯¦ç·šï¼Œé¡è‰²ç‚ºé‡‘é»ƒè‰² */
  } /* .maplibregl-ctrl-group æ¨£å¼çµæŸ */

  /* MapLibre GL æ§åˆ¶å™¨æŒ‰éˆ•æ¨£å¼ï¼šè¨­ç½®èƒŒæ™¯å’Œæ–‡å­—é¡è‰² */
  :deep(.maplibregl-ctrl button) {
    /* :deep(): æ·±åº¦é¸æ“‡å™¨; .maplibregl-ctrl button: MapLibre æ§åˆ¶å™¨å…§çš„æŒ‰éˆ• */
    background-color: rgba(0, 43, 127, 0.95); /* èƒŒæ™¯è‰²ï¼šæ·±è—è‰²ï¼Œé€æ˜åº¦ 95% */
    color: #ffc61e; /* æ–‡å­—é¡è‰²ï¼šé‡‘é»ƒè‰² */
  } /* .maplibregl-ctrl button æ¨£å¼çµæŸ */

  /* MapLibre GL æ§åˆ¶å™¨æŒ‰éˆ•æ‡¸åœæ¨£å¼ï¼šè¨­ç½®èƒŒæ™¯è‰² */
  :deep(.maplibregl-ctrl button:hover) {
    /* :deep(): æ·±åº¦é¸æ“‡å™¨; .maplibregl-ctrl button:hover: æ»‘é¼ æ‡¸åœåœ¨æŒ‰éˆ•ä¸Šçš„ç‹€æ…‹ */
    background-color: rgba(0, 43, 127, 1); /* èƒŒæ™¯è‰²ï¼šæ·±è—è‰²ï¼Œå®Œå…¨ä¸é€æ˜ */
  } /* .maplibregl-ctrl button:hover æ¨£å¼çµæŸ */

  /* MapLibre GL Popup å…§å®¹æ¨£å¼ï¼šè¨­ç½®èƒŒæ™¯ã€æ–‡å­—é¡è‰²ã€é‚Šæ¡†ç­‰ */
  :deep(.maplibregl-popup-content) {
    /* :deep(): æ·±åº¦é¸æ“‡å™¨; .maplibregl-popup-content: MapLibre Popup å…§å®¹å€åŸŸçš„é¡å */
    background: rgba(0, 43, 127, 0.95); /* èƒŒæ™¯è‰²ï¼šæ·±è—è‰²ï¼Œé€æ˜åº¦ 95% */
    color: #ffc61e; /* æ–‡å­—é¡è‰²ï¼šé‡‘é»ƒè‰² */
    border: 2px solid #ffc61e; /* é‚Šæ¡†ï¼š2 åƒç´ å¯¦ç·šï¼Œé¡è‰²ç‚ºé‡‘é»ƒè‰² */
    border-radius: 4px; /* åœ“è§’ï¼š4 åƒç´  */
    padding: 12px 16px; /* å…§é‚Šè·ï¼šä¸Šä¸‹ 12 åƒç´ ï¼Œå·¦å³ 16 åƒç´  */
    font-size: 14px; /* å­—é«”å¤§å°ï¼š14 åƒç´  */
  } /* .maplibregl-popup-content æ¨£å¼çµæŸ */

  /* MapLibre GL Popup ç®­é ­æ¨£å¼ï¼šè¨­ç½®ç®­é ­é¡è‰² */
  :deep(.maplibregl-popup-tip) {
    /* :deep(): æ·±åº¦é¸æ“‡å™¨; .maplibregl-popup-tip: MapLibre Popup ç®­é ­çš„é¡å */
    border-top-color: rgba(
      0,
      43,
      127,
      0.95
    ); /* ç®­é ­é¡è‰²ï¼šæ·±è—è‰²ï¼Œé€æ˜åº¦ 95%ï¼ˆç®­é ­æ˜¯é€šéé‚Šæ¡†å¯¦ç¾çš„ï¼‰ */
  } /* .maplibregl-popup-tip æ¨£å¼çµæŸ */

  /* MapLibre GL Popup é—œé–‰æŒ‰éˆ•æ¨£å¼ï¼šè¨­ç½®æ–‡å­—é¡è‰²ã€å¤§å°å’Œå…§é‚Šè· */
  :deep(.maplibregl-popup-close-button) {
    /* :deep(): æ·±åº¦é¸æ“‡å™¨; .maplibregl-popup-close-button: MapLibre Popup é—œé–‰æŒ‰éˆ•çš„é¡å */
    color: #ffc61e; /* æ–‡å­—é¡è‰²ï¼šé‡‘é»ƒè‰² */
    font-size: 20px; /* å­—é«”å¤§å°ï¼š20 åƒç´  */
    padding: 0 8px; /* å…§é‚Šè·ï¼šä¸Šä¸‹ 0 åƒç´ ï¼Œå·¦å³ 8 åƒç´  */
  } /* .maplibregl-popup-close-button æ¨£å¼çµæŸ */

  /* MapLibre GL Popup é—œé–‰æŒ‰éˆ•æ‡¸åœæ¨£å¼ï¼šè¨­ç½®èƒŒæ™¯å’Œæ–‡å­—é¡è‰² */
  :deep(.maplibregl-popup-close-button:hover) {
    /* :deep(): æ·±åº¦é¸æ“‡å™¨; .maplibregl-popup-close-button:hover: æ»‘é¼ æ‡¸åœåœ¨é—œé–‰æŒ‰éˆ•ä¸Šçš„ç‹€æ…‹ */
    background-color: transparent; /* èƒŒæ™¯è‰²ï¼šé€æ˜ */
    color: #ffffff; /* æ–‡å­—é¡è‰²ï¼šç™½è‰² */
  } /* .maplibregl-popup-close-button:hover æ¨£å¼çµæŸ */
</style>
<!-- style å€å¡ŠçµæŸ -->
