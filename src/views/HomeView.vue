<script>
  /**
   * ğŸ  HomeView.vue - ä¸»é é¢çµ„ä»¶ (Main Page Component)
   *
   * é€™æ˜¯æ‡‰ç”¨ç¨‹å¼çš„ä¸»é é¢ï¼Œé¡¯ç¤ºå…¨å±ä¸–ç•Œåœ°åœ–ã€‚
   * ä¸»è¦åŠŸèƒ½ï¼š
   * - é¡¯ç¤ºå…¨å±ä¸–ç•Œåœ°åœ–
   * - ä½¿ç”¨éº¥å¡æ‰˜æŠ•å½±
   * - éŸ¿æ‡‰å¼ä½ˆå±€è¨­è¨ˆ
   *
   * çµ„ä»¶çµæ§‹ï¼š
   * - MapTab: åœ°åœ–é¡¯ç¤ºçµ„ä»¶ï¼ˆå…¨å±ï¼‰
   */

  import MapTab from '../tabs/MapTab.vue';
  import { useDataStore } from '@/stores/dataStore.js';

  export default {
    name: 'HomeView',
    components: { MapTab },
    setup() {
      // ğŸ“¦ å­˜å„²å¯¦ä¾‹
      const dataStore = useDataStore();

      /**
       * ğŸ—ºï¸ è¨­å®šåœ°åœ–å¯¦ä¾‹
       * å°‡ D3.js åœ°åœ–å¯¦ä¾‹å‚³éçµ¦ dataStore
       * @param {Object} map - D3.js åœ°åœ–å¯¦ä¾‹ï¼ˆåŒ…å« svg, projection, pathï¼‰
       */
      const setMapInstance = (map) => dataStore.setMapInstance(map);

      return {
        setMapInstance,
      };
    },
  };
</script>

<template>
  <!-- ğŸ  å…¨å±åœ°åœ–å®¹å™¨ -->
  <div class="fullscreen-container">
    <!-- ğŸ—ºï¸ åœ°åœ–çµ„ä»¶ï¼ˆå…¨å±ï¼‰ -->
    <MapTab @map-ready="setMapInstance" />
  </div>
</template>

<style>
  @import '../assets/css/common.css';

  .fullscreen-container {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    z-index: 0 !important;
    background: transparent !important;
  }

  /* ç¢ºä¿æ²’æœ‰ä»»ä½•çˆ¶å®¹å™¨é™åˆ¶å¤§å° */
  body,
  html,
  #app {
    margin: 0 !important;
    padding: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    overflow: hidden !important;
  }
</style>
