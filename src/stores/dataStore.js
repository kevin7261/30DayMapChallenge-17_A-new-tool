/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ğŸ“¦ æ•¸æ“šå­˜å„²æ¨¡çµ„ (Data Store Module)
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * @fileoverview
 * æœ¬æ–‡ä»¶å®šç¾©æ‡‰ç”¨ç¨‹å¼çš„æ ¸å¿ƒæ•¸æ“šå­˜å„² storeï¼Œè² è²¬ç®¡ç† MapLibre GL åœ°åœ–å¯¦ä¾‹
 * å’Œç›¸é—œçš„é‹è¡Œæ™‚æ•¸æ“šã€‚ä½¿ç”¨ Pinia Composition API èªæ³•å¯¦ç¾ã€‚
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ“‹ ä¸»è¦åŠŸèƒ½
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * 1. åœ°åœ–å¯¦ä¾‹ç®¡ç†
 *    - å­˜å„² MapLibre GL Map å¯¦ä¾‹
 *    - æä¾›è·¨çµ„ä»¶è¨ªå•åœ°åœ–å¯¦ä¾‹çš„èƒ½åŠ›
 *    - ç¢ºä¿å–®ä¸€åœ°åœ–å¯¦ä¾‹åŸå‰‡
 *
 * 2. ç‹€æ…‹æŒä¹…åŒ–
 *    - ä½¿ç”¨ Pinia persist æ’ä»¶
 *    - å°‡ç‹€æ…‹ä¿å­˜åˆ° localStorage
 *    - é é¢é‡è¼‰æ™‚æ¢å¾©ç‹€æ…‹
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ—ï¸ è¨­è¨ˆæ¨¡å¼
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * å–®ä¾‹æ¨¡å¼ (Singleton Pattern):
 * - åœ°åœ–å¯¦ä¾‹åœ¨æ•´å€‹æ‡‰ç”¨ä¸­åªå­˜åœ¨ä¸€å€‹
 * - é€šé store å…±äº«çµ¦éœ€è¦çš„çµ„ä»¶
 * - é¿å…é‡è¤‡å‰µå»ºåœ°åœ–å¯¦ä¾‹é€ æˆçš„æ€§èƒ½å•é¡Œ
 *
 * é›†ä¸­å¼ç‹€æ…‹ç®¡ç†:
 * - å°‡åœ°åœ–å¯¦ä¾‹å¾çµ„ä»¶ä¸­æå–åˆ° store
 * - ä¾¿æ–¼å¤šå€‹çµ„ä»¶è¨ªå•å’Œæ“ä½œåŒä¸€åœ°åœ–
 * - ç°¡åŒ–çµ„ä»¶é–“çš„é€šä¿¡
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ”„ æ•¸æ“šæµç¨‹
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * 1. åœ°åœ–å‰µå»ºæµç¨‹ï¼š
 *    MapTab.vue å‰µå»ºåœ°åœ–
 *    â†’ è§¸ç™¼ 'map-ready' äº‹ä»¶
 *    â†’ HomeView.vue æ¥æ”¶äº‹ä»¶
 *    â†’ èª¿ç”¨ dataStore.setMapInstance(map)
 *    â†’ åœ°åœ–å¯¦ä¾‹å­˜å„²åˆ° store
 *    â†’ å…¶ä»–çµ„ä»¶å¯é€šé store è¨ªå•åœ°åœ–
 *
 * 2. åœ°åœ–è¨ªå•æµç¨‹ï¼š
 *    çµ„ä»¶éœ€è¦æ“ä½œåœ°åœ–
 *    â†’ import { useDataStore } from '@/stores/dataStore'
 *    â†’ const dataStore = useDataStore()
 *    â†’ const map = dataStore.mapInstance
 *    â†’ å° map é€²è¡Œæ“ä½œ
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * âš™ï¸ Pinia Composition API èªæ³•èªªæ˜
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * æœ¬ store ä½¿ç”¨ Composition API èªæ³•è€Œé Options APIï¼Œå„ªå‹¢å¦‚ä¸‹ï¼š
 *
 * 1. æ›´éˆæ´»çš„çµ„ç¹”æ–¹å¼
 *    - å¯ä»¥ä½¿ç”¨ Vue 3 çš„ Composition API (ref, computed, watch ç­‰)
 *    - ä»£ç¢¼æ›´æ¨¡å¡ŠåŒ–ï¼Œé‚è¼¯æ›´æ¸…æ™°
 *
 * 2. æ›´å¥½çš„ TypeScript æ”¯æ´
 *    - è‡ªå‹•æ¨å°é¡å‹
 *    - æ¸›å°‘é¡å‹è¨»è§£éœ€æ±‚
 *
 * 3. æ›´æ¥è¿‘ Vue 3 çš„ç·¨ç¢¼é¢¨æ ¼
 *    - èˆ‡ <script setup> èªæ³•ä¸€è‡´
 *    - å­¸ç¿’æ›²ç·šæ›´å¹³ç·©
 *
 * Composition API èªæ³•çµæ§‹ï¼š
 * ```javascript
 * export const useStore = defineStore('id', () => {
 *   // 1. å®šç¾©éŸ¿æ‡‰å¼ç‹€æ…‹ï¼ˆç›¸ç•¶æ–¼ Options API çš„ stateï¼‰
 *   const count = ref(0);
 *   const user = ref(null);
 *
 *   // 2. å®šç¾©è¨ˆç®—å±¬æ€§ï¼ˆç›¸ç•¶æ–¼ Options API çš„ gettersï¼‰
 *   const doubleCount = computed(() => count.value * 2);
 *
 *   // 3. å®šç¾©æ–¹æ³•ï¼ˆç›¸ç•¶æ–¼ Options API çš„ actionsï¼‰
 *   function increment() {
 *     count.value++;
 *   }
 *
 *   async function fetchUser(id) {
 *     user.value = await api.getUser(id);
 *   }
 *
 *   // 4. è¿”å›æ‰€æœ‰éœ€è¦æš´éœ²çš„å…§å®¹
 *   return {
 *     count,
 *     user,
 *     doubleCount,
 *     increment,
 *     fetchUser
 *   };
 * });
 * ```
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ” æŒä¹…åŒ–é…ç½®
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * persist: true çš„ä½œç”¨ï¼š
 * - è‡ªå‹•å°‡ store ç‹€æ…‹ä¿å­˜åˆ° localStorage
 * - éµåæ ¼å¼ï¼š'pinia-data'ï¼ˆ'pinia-' + store idï¼‰
 * - é é¢é‡è¼‰æ™‚è‡ªå‹•æ¢å¾©ç‹€æ…‹
 *
 * æ³¨æ„äº‹é …ï¼š
 * - åœ°åœ–å¯¦ä¾‹ (MapLibre Map) ç„¡æ³•è¢«åºåˆ—åŒ–
 * - localStorage åªèƒ½å­˜å„²å­—ç¬¦ä¸²
 * - å› æ­¤åœ°åœ–å¯¦ä¾‹å¯¦éš›ä¸Šä¸æœƒè¢«æŒä¹…åŒ–
 * - æ¯æ¬¡é‡è¼‰é é¢éƒ½éœ€è¦é‡æ–°å‰µå»ºåœ°åœ–å¯¦ä¾‹
 *
 * æŒä¹…åŒ–é…ç½®ç¯„ä¾‹ï¼ˆé€²éšç”¨æ³•ï¼‰ï¼š
 * ```javascript
 * {
 *   persist: {
 *     enabled: true,
 *     strategies: [
 *       {
 *         key: 'my-custom-key',        // è‡ªå®šç¾©å­˜å„²éµå
 *         storage: localStorage,        // å­˜å„²ä½ç½®
 *         paths: ['user', 'settings'], // åªæŒä¹…åŒ–æŒ‡å®šè·¯å¾‘
 *       }
 *     ]
 *   }
 * }
 * ```
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸš€ ä½¿ç”¨ç¯„ä¾‹
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * åœ¨ MapTab.vue ä¸­è¨­ç½®åœ°åœ–å¯¦ä¾‹ï¼š
 * ```javascript
 * import { useDataStore } from '@/stores/dataStore';
 *
 * export default {
 *   setup(_, { emit }) {
 *     const dataStore = useDataStore();
 *
 *     const createMap = () => {
 *       const map = new maplibregl.Map({ ... });
 *
 *       map.on('load', () => {
 *         // ä¿å­˜åœ°åœ–å¯¦ä¾‹åˆ° store
 *         dataStore.setMapInstance(map);
 *
 *         // é€šçŸ¥çˆ¶çµ„ä»¶
 *         emit('map-ready', map);
 *       });
 *     };
 *   }
 * };
 * ```
 *
 * åœ¨å…¶ä»–çµ„ä»¶ä¸­è¨ªå•åœ°åœ–ï¼š
 * ```javascript
 * import { useDataStore } from '@/stores/dataStore';
 *
 * export default {
 *   setup() {
 *     const dataStore = useDataStore();
 *
 *     // ç²å–åœ°åœ–å¯¦ä¾‹
 *     const map = dataStore.mapInstance;
 *
 *     // æ“ä½œåœ°åœ–
 *     if (map) {
 *       map.flyTo({ center: [120.9, 23.7], zoom: 10 });
 *       map.setPitch(60);
 *       map.setBearing(45);
 *     }
 *   }
 * };
 * ```
 *
 * ä½¿ç”¨è§£æ§‹ï¼ˆéœ€è¦ storeToRefsï¼‰ï¼š
 * ```javascript
 * import { storeToRefs } from 'pinia';
 * import { useDataStore } from '@/stores/dataStore';
 *
 * const dataStore = useDataStore();
 * const { mapInstance } = storeToRefs(dataStore); // ä¿æŒéŸ¿æ‡‰å¼
 * const { setMapInstance } = dataStore;           // æ–¹æ³•ä¸éœ€è¦ toRefs
 *
 * // ç›£è½åœ°åœ–å¯¦ä¾‹è®ŠåŒ–
 * watch(mapInstance, (newMap) => {
 *   if (newMap) {
 *     console.log('åœ°åœ–å·²å°±ç·’');
 *   }
 * });
 * ```
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ’¡ æœªä¾†å¯èƒ½çš„æ“´å±•
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * 1. æ·»åŠ åœ°åœ–ç‹€æ…‹è¿½è¹¤ï¼š
 * ```javascript
 * const mapState = ref({
 *   center: [120.9, 23.7],
 *   zoom: 6.8,
 *   pitch: 60,
 *   bearing: 0,
 *   bounds: null
 * });
 *
 * const updateMapState = () => {
 *   if (mapInstance.value) {
 *     mapState.value.center = mapInstance.value.getCenter().toArray();
 *     mapState.value.zoom = mapInstance.value.getZoom();
 *     mapState.value.pitch = mapInstance.value.getPitch();
 *     mapState.value.bearing = mapInstance.value.getBearing();
 *   }
 * };
 * ```
 *
 * 2. æ·»åŠ é¸ä¸­çš„ç¸£å¸‚æ•¸æ“šï¼š
 * ```javascript
 * const selectedCounty = ref(null);
 * const selectedCountyData = ref(null);
 *
 * const selectCounty = (countyName) => {
 *   selectedCounty.value = countyName;
 *   // è¼‰å…¥ç¸£å¸‚è©³ç´°æ•¸æ“š
 *   loadCountyData(countyName).then(data => {
 *     selectedCountyData.value = data;
 *   });
 * };
 *
 * const clearSelection = () => {
 *   selectedCounty.value = null;
 *   selectedCountyData.value = null;
 * };
 * ```
 *
 * 3. æ·»åŠ åœ°åœ–åœ–å±¤ç®¡ç†ï¼š
 * ```javascript
 * const visibleLayers = ref({
 *   'counties-3d': true,
 *   'counties-outline': true,
 *   'osm-tiles-layer': true
 * });
 *
 * const toggleLayer = (layerId) => {
 *   visibleLayers.value[layerId] = !visibleLayers.value[layerId];
 *
 *   if (mapInstance.value) {
 *     const visibility = visibleLayers.value[layerId] ? 'visible' : 'none';
 *     mapInstance.value.setLayoutProperty(layerId, 'visibility', visibility);
 *   }
 * };
 * ```
 *
 * 4. æ·»åŠ è¼‰å…¥ç‹€æ…‹ç®¡ç†ï¼š
 * ```javascript
 * const isMapLoading = ref(true);
 * const loadingProgress = ref(0);
 *
 * const setLoadingState = (loading, progress = 0) => {
 *   isMapLoading.value = loading;
 *   loadingProgress.value = progress;
 * };
 * ```
 *
 * 5. æ·»åŠ éŒ¯èª¤è™•ç†ï¼š
 * ```javascript
 * const mapError = ref(null);
 *
 * const setMapError = (error) => {
 *   mapError.value = error;
 *   console.error('[DataStore] åœ°åœ–éŒ¯èª¤:', error);
 * };
 *
 * const clearMapError = () => {
 *   mapError.value = null;
 * };
 * ```
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * âš ï¸ æ³¨æ„äº‹é …
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * 1. åœ°åœ–å¯¦ä¾‹çš„ç”Ÿå‘½é€±æœŸ
 *    - åœ°åœ–å¯¦ä¾‹åœ¨çµ„ä»¶å¸è¼‰æ™‚éœ€è¦æ‰‹å‹•æ¸…ç†
 *    - èª¿ç”¨ map.remove() é‡‹æ”¾è³‡æº
 *    - æ¸…ç†å¾Œå°‡ store ä¸­çš„å¯¦ä¾‹è¨­ç‚º null
 *
 * 2. éŸ¿æ‡‰å¼æ³¨æ„äº‹é …
 *    - åœ°åœ–å¯¦ä¾‹æœ¬èº«ä¸æ˜¯éŸ¿æ‡‰å¼çš„
 *    - åªæœ‰ ref(mapInstance) æ˜¯éŸ¿æ‡‰å¼çš„
 *    - å°åœ°åœ–çš„æ“ä½œä¸æœƒè§¸ç™¼ Vue çš„æ›´æ–°
 *
 * 3. å…§å­˜æ´©æ¼é¢¨éšª
 *    - MapLibre GL åœ°åœ–ä½”ç”¨è¼ƒå¤šå…§å­˜
 *    - ç¢ºä¿é é¢é›¢é–‹æ™‚æ­£ç¢ºæ¸…ç†
 *    - é¿å…å‰µå»ºå¤šå€‹åœ°åœ–å¯¦ä¾‹
 *
 * 4. localStorage é™åˆ¶
 *    - localStorage æœ‰ 5-10MB çš„å¤§å°é™åˆ¶
 *    - ä¸è¦åœ¨ store ä¸­å­˜å„²å¤§é‡æ•¸æ“š
 *    - åœ°åœ–å¯¦ä¾‹ç„¡æ³•åºåˆ—åŒ–ï¼Œä¸æœƒè¢«æŒä¹…åŒ–
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ“ ç›¸é—œæ–‡ä»¶
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * - src/stores/defineStore.js  - é…ç½®å’Œå®šç¾©æ•¸æ“šå­˜å„²
 * - src/tabs/MapTab.vue        - åœ°åœ–çµ„ä»¶ï¼ˆå‰µå»ºåœ°åœ–å¯¦ä¾‹ï¼‰
 * - src/views/HomeView.vue     - ä¸»é é¢ï¼ˆæ©‹æ¥åœ°åœ–å’Œ storeï¼‰
 * - src/main.js                - Pinia åˆå§‹åŒ–
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ”— ç›¸é—œæ–‡æª”
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * - Pinia å®˜ç¶²ï¼šhttps://pinia.vuejs.org/
 * - Pinia Composition APIï¼šhttps://pinia.vuejs.org/core-concepts/#setup-stores
 * - Pinia æŒä¹…åŒ–ï¼šhttps://prazdevs.github.io/pinia-plugin-persistedstate/
 * - MapLibre GL JSï¼šhttps://maplibre.org/maplibre-gl-js/docs/
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ“ ç‰ˆæœ¬è³‡è¨Š
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * @author 30 Day Map Challenge Team
 * @version 2.0.0
 * @since 2025
 * @license MIT
 *
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ“¦ ä¾è³´å°å…¥ (Dependencies Import)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 * å¾ Pinia å°å…¥ defineStore å‡½æ•¸
 * ç”¨æ–¼å‰µå»º store å¯¦ä¾‹
 */
import { defineStore } from 'pinia';

/**
 * å¾ Vue å°å…¥ ref å‡½æ•¸
 * ç”¨æ–¼å‰µå»ºéŸ¿æ‡‰å¼å¼•ç”¨
 *
 * ref å‰µå»ºçš„éŸ¿æ‡‰å¼æ•¸æ“šï¼š
 * - å¯ä»¥åœ¨ store ä¸­ä½¿ç”¨
 * - å¯ä»¥åœ¨çµ„ä»¶ä¸­ä½¿ç”¨ storeToRefs è§£æ§‹ä¿æŒéŸ¿æ‡‰æ€§
 * - é€šé .value è¨ªå•å’Œä¿®æ”¹å€¼
 */
import { ref } from 'vue';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸª æ•¸æ“šå­˜å„²å•†åº—å®šç¾© (Data Store Definition)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 * æ•¸æ“šå­˜å„² (Data Store)
 *
 * ä½¿ç”¨ Pinia Composition API èªæ³•å®šç¾©æ•¸æ“šå­˜å„² storeã€‚
 * è² è²¬ç®¡ç†æ‡‰ç”¨ç¨‹å¼çš„æ ¸å¿ƒé‹è¡Œæ™‚æ•¸æ“šï¼Œç‰¹åˆ¥æ˜¯ MapLibre GL åœ°åœ–å¯¦ä¾‹ã€‚
 *
 * Store ID: 'data'
 * - æ­¤ ID å¿…é ˆåœ¨æ•´å€‹æ‡‰ç”¨ç¨‹å¼ä¸­å”¯ä¸€
 * - ç”¨æ–¼ Vue DevTools ä¸­è­˜åˆ¥æ­¤ store
 * - åœ¨æŒä¹…åŒ–æ™‚ä½œç‚º localStorage éµåçš„ä¸€éƒ¨åˆ†
 *
 * èªæ³•èªªæ˜ï¼š
 * defineStore(id, setup, options)
 * - id: store å”¯ä¸€æ¨™è­˜ç¬¦
 * - setup: è¨­ç½®å‡½æ•¸ï¼ˆComposition API èªæ³•ï¼‰
 * - options: é…ç½®é¸é …ï¼ˆå¦‚æŒä¹…åŒ–è¨­ç½®ï¼‰
 *
 * @returns {Object} åŒ…å«æ‰€æœ‰ç‹€æ…‹å’Œæ–¹æ³•çš„ store å¯¦ä¾‹
 */
export const useDataStore = defineStore(
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // ğŸ·ï¸ Store ID
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  /**
   * Store å”¯ä¸€æ¨™è­˜ç¬¦
   *
   * å‘½åè¦ç¯„ï¼š
   * - ä½¿ç”¨å°å¯«å­—æ¯
   * - ä½¿ç”¨æè¿°æ€§åç¨±
   * - é¿å…èˆ‡å…¶ä»– store è¡çª
   *
   * æœ¬ store ä½¿ç”¨ 'data' ä½œç‚º IDï¼Œè¡¨ç¤ºå­˜å„²æ‡‰ç”¨ç¨‹å¼çš„æ ¸å¿ƒæ•¸æ“šã€‚
   */
  'data',

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // âš™ï¸ Setup å‡½æ•¸ï¼ˆComposition APIï¼‰
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  /**
   * Store è¨­ç½®å‡½æ•¸
   *
   * é€™æ˜¯ Pinia Composition API çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œé¡ä¼¼æ–¼ Vue çµ„ä»¶çš„ setup()ã€‚
   * åœ¨é€™è£¡å®šç¾©æ‰€æœ‰çš„éŸ¿æ‡‰å¼ç‹€æ…‹ã€è¨ˆç®—å±¬æ€§å’Œæ–¹æ³•ã€‚
   *
   * åŸ·è¡Œæ™‚æ©Ÿï¼š
   * - åœ¨é¦–æ¬¡èª¿ç”¨ useDataStore() æ™‚åŸ·è¡Œ
   * - åªåŸ·è¡Œä¸€æ¬¡ï¼ˆå–®ä¾‹æ¨¡å¼ï¼‰
   * - è¿”å›çš„å°è±¡æœƒè¢« Pinia ç®¡ç†
   *
   * @returns {Object} åŒ…å«æ‰€æœ‰æš´éœ²çš„ç‹€æ…‹å’Œæ–¹æ³•
   */
  () => {
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ“Š éŸ¿æ‡‰å¼ç‹€æ…‹å®šç¾© (Reactive State Definitions)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    /**
     * åœ°åœ–å¯¦ä¾‹ (Map Instance)
     *
     * å­˜å„² MapLibre GL Map å°è±¡çš„éŸ¿æ‡‰å¼å¼•ç”¨ã€‚
     *
     * é¡å‹ï¼šRef<maplibregl.Map | null>
     * åˆå§‹å€¼ï¼šnullï¼ˆåœ°åœ–æœªåˆå§‹åŒ–æ™‚ï¼‰
     *
     * ç”Ÿå‘½é€±æœŸï¼š
     * 1. åˆå§‹ç‹€æ…‹ï¼šnull
     * 2. MapTab å‰µå»ºåœ°åœ–å¾Œï¼šmaplibregl.Map å¯¦ä¾‹
     * 3. çµ„ä»¶å¸è¼‰æ™‚ï¼šæ‡‰é‡ç½®ç‚º null
     *
     * ç”¨é€”ï¼š
     * - æä¾›å…¨å±€è¨ªå•åœ°åœ–å¯¦ä¾‹çš„èƒ½åŠ›
     * - å…è¨±å¤šå€‹çµ„ä»¶æ“ä½œåŒä¸€å€‹åœ°åœ–
     * - é¿å…é€šé props/events å‚³éåœ°åœ–å¯¦ä¾‹
     *
     * è¨ªå•æ–¹å¼ï¼š
     * - åœ¨ setup å‡½æ•¸å…§ï¼šmapInstance.value
     * - åœ¨çµ„ä»¶ä¸­ï¼šdataStore.mapInstance
     *
     * æ³¨æ„äº‹é …ï¼š
     * - åœ°åœ–å¯¦ä¾‹æœ¬èº«ä¸æ˜¯éŸ¿æ‡‰å¼çš„
     * - åªæœ‰ ref åŒ…è£¹çš„å¼•ç”¨æ˜¯éŸ¿æ‡‰å¼çš„
     * - å°åœ°åœ–çš„æ“ä½œï¼ˆå¦‚ flyToï¼‰ä¸æœƒè§¸ç™¼ Vue æ›´æ–°
     * - ç„¡æ³•è¢«åºåˆ—åŒ–ï¼Œä¸æœƒè¢«æŒä¹…åŒ–åˆ° localStorage
     *
     * ç›¸é—œæ–¹æ³•ï¼š
     * - setMapInstance(map) - è¨­ç½®åœ°åœ–å¯¦ä¾‹
     *
     * @type {Ref<maplibregl.Map|null>}
     */
    const mapInstance = ref(null);

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ”§ æ–¹æ³•å®šç¾© (Method Definitions / Actions)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    /**
     * è¨­ç½®åœ°åœ–å¯¦ä¾‹ (Set Map Instance)
     *
     * å°‡ MapLibre GL Map å¯¦ä¾‹ä¿å­˜åˆ° store ä¸­ï¼Œä¾›å…¨å±€è¨ªå•ã€‚
     *
     * èª¿ç”¨æ™‚æ©Ÿï¼š
     * - MapTab.vue ä¸­åœ°åœ–å‰µå»ºå®Œæˆå¾Œï¼ˆmap.on('load') äº‹ä»¶ä¸­ï¼‰
     * - é€šå¸¸åœ¨åœ°åœ–åˆå§‹åŒ–æµç¨‹çš„æœ€å¾Œä¸€æ­¥èª¿ç”¨
     *
     * èª¿ç”¨è€…ï¼š
     * - MapTab.vue: å‰µå»ºåœ°åœ–å¯¦ä¾‹
     * - HomeView.vue: æ¥æ”¶ 'map-ready' äº‹ä»¶å¾Œèª¿ç”¨æ­¤æ–¹æ³•
     *
     * ä½¿ç”¨ç¯„ä¾‹ï¼š
     * ```javascript
     * // åœ¨ MapTab.vue ä¸­
     * map.on('load', () => {
     *   dataStore.setMapInstance(map);
     *   emit('map-ready', map);
     * });
     *
     * // æˆ–åœ¨ HomeView.vue ä¸­
     * const setMapInstance = (map) => {
     *   dataStore.setMapInstance(map);
     * };
     * ```
     *
     * å‰¯ä½œç”¨ï¼š
     * - æ›´æ–° mapInstance çš„å€¼
     * - è§¸ç™¼è¨‚é–±äº† mapInstance çš„éŸ¿æ‡‰å¼æ›´æ–°
     * - å¯èƒ½è§¸ç™¼ watch/watchEffect ç›£è½å™¨
     *
     * æœ€ä½³å¯¦è¸ï¼š
     * - åªåœ¨åœ°åœ–å®Œå…¨åˆå§‹åŒ–å¾Œèª¿ç”¨
     * - é¿å…å¤šæ¬¡èª¿ç”¨ï¼ˆåœ°åœ–æ‡‰è©²åªå‰µå»ºä¸€æ¬¡ï¼‰
     * - çµ„ä»¶å¸è¼‰æ™‚è€ƒæ…®é‡ç½®ç‚º null
     *
     * æ¸…ç†ç¤ºä¾‹ï¼š
     * ```javascript
     * onUnmounted(() => {
     *   if (map) {
     *     map.remove();
     *   }
     *   dataStore.setMapInstance(null);
     * });
     * ```
     *
     * @param {maplibregl.Map|null} map - MapLibre GL Map å¯¦ä¾‹æˆ– null
     * @returns {void}
     *
     * @example
     * // è¨­ç½®åœ°åœ–å¯¦ä¾‹
     * const map = new maplibregl.Map({ ... });
     * dataStore.setMapInstance(map);
     *
     * @example
     * // æ¸…ç†åœ°åœ–å¯¦ä¾‹
     * dataStore.setMapInstance(null);
     */
    const setMapInstance = (map) => {
      mapInstance.value = map;

      // é–‹ç™¼ç’°å¢ƒèª¿è©¦ä¿¡æ¯
      if (process.env.NODE_ENV === 'development') {
        if (map) {
          console.log('[DataStore] åœ°åœ–å¯¦ä¾‹å·²è¨­ç½®');
        } else {
          console.log('[DataStore] åœ°åœ–å¯¦ä¾‹å·²æ¸…é™¤');
        }
      }
    };

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ“¤ è¿”å›æš´éœ²çš„å…§å®¹ (Return Exposed Content)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    /**
     * è¿”å›å°è±¡
     *
     * å°‡éœ€è¦æš´éœ²çµ¦å¤–éƒ¨ä½¿ç”¨çš„ç‹€æ…‹å’Œæ–¹æ³•æ‰“åŒ…æˆå°è±¡è¿”å›ã€‚
     * é€™äº›å…§å®¹æœƒæˆç‚º store å¯¦ä¾‹çš„å±¬æ€§å’Œæ–¹æ³•ã€‚
     *
     * æš´éœ²çš„å…§å®¹ï¼š
     * - mapInstance: éŸ¿æ‡‰å¼åœ°åœ–å¯¦ä¾‹å¼•ç”¨
     * - setMapInstance: è¨­ç½®åœ°åœ–å¯¦ä¾‹çš„æ–¹æ³•
     *
     * è¨ªå•æ–¹å¼ï¼š
     * ```javascript
     * const dataStore = useDataStore();
     *
     * // è¨ªå•ç‹€æ…‹
     * const map = dataStore.mapInstance;
     *
     * // èª¿ç”¨æ–¹æ³•
     * dataStore.setMapInstance(newMap);
     * ```
     *
     * è§£æ§‹ä½¿ç”¨ï¼ˆä¿æŒéŸ¿æ‡‰æ€§ï¼‰ï¼š
     * ```javascript
     * import { storeToRefs } from 'pinia';
     * const dataStore = useDataStore();
     * const { mapInstance } = storeToRefs(dataStore); // éŸ¿æ‡‰å¼
     * const { setMapInstance } = dataStore;           // æ–¹æ³•
     * ```
     *
     * æ³¨æ„ï¼š
     * - ç‹€æ…‹éœ€è¦ä½¿ç”¨ storeToRefs è§£æ§‹æ‰èƒ½ä¿æŒéŸ¿æ‡‰æ€§
     * - æ–¹æ³•å¯ä»¥ç›´æ¥è§£æ§‹ï¼Œä¸éœ€è¦ toRefs
     * - ä¸è¦ç›´æ¥è§£æ§‹ç‹€æ…‹ï¼Œæœƒå¤±å»éŸ¿æ‡‰æ€§
     */
    return {
      // éŸ¿æ‡‰å¼ç‹€æ…‹
      mapInstance,

      // æ–¹æ³•ï¼ˆActionsï¼‰
      setMapInstance,
    };
  },

  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // âš™ï¸ Store é…ç½®é¸é … (Store Configuration Options)
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  /**
   * Store é…ç½®å°è±¡
   *
   * æä¾›é¡å¤–çš„é…ç½®é¸é …ä¾†å¢å¼· store çš„åŠŸèƒ½ã€‚
   */
  {
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ’¾ æŒä¹…åŒ–é…ç½® (Persistence Configuration)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    /**
     * å•Ÿç”¨ç‹€æ…‹æŒä¹…åŒ– (Enable State Persistence)
     *
     * ä½¿ç”¨ pinia-plugin-persistedstate æ’ä»¶å°‡ store ç‹€æ…‹ä¿å­˜åˆ°
     * localStorageï¼Œå¯¦ç¾é é¢é‡è¼‰å¾Œç‹€æ…‹æ¢å¾©ã€‚
     *
     * å€¼ï¼štrue
     * - å•Ÿç”¨è‡ªå‹•æŒä¹…åŒ–
     * - ä½¿ç”¨é»˜èªé…ç½®
     *
     * é»˜èªé…ç½®ï¼š
     * - å­˜å„²ä½ç½®ï¼šlocalStorage
     * - éµåï¼š'pinia-data'ï¼ˆ'pinia-' + store idï¼‰
     * - æŒä¹…åŒ–å…§å®¹ï¼šæ•´å€‹ store çš„ç‹€æ…‹
     * - åºåˆ—åŒ–æ–¹å¼ï¼šJSON.stringify/parse
     *
     * å·¥ä½œæµç¨‹ï¼š
     * 1. ç‹€æ…‹è®ŠåŒ–æ™‚è‡ªå‹•ä¿å­˜åˆ° localStorage
     * 2. é é¢é‡è¼‰æ™‚è‡ªå‹•å¾ localStorage æ¢å¾©
     * 3. ç„¡æ³•åºåˆ—åŒ–çš„å€¼æœƒè¢«å¿½ç•¥ï¼ˆå¦‚ Map å¯¦ä¾‹ï¼‰
     *
     * ç‰¹æ®Šæƒ…æ³ï¼š
     * - mapInstance æ˜¯ MapLibre GL Map å°è±¡
     * - Map å°è±¡ç„¡æ³•è¢« JSON åºåˆ—åŒ–
     * - å› æ­¤ mapInstance å¯¦éš›ä¸æœƒè¢«æŒä¹…åŒ–
     * - æ¯æ¬¡é‡è¼‰é é¢éƒ½éœ€è¦é‡æ–°å‰µå»ºåœ°åœ–
     *
     * å¦‚æœéœ€è¦è‡ªå®šç¾©æŒä¹…åŒ–é…ç½®ï¼š
     * ```javascript
     * {
     *   persist: {
     *     key: 'my-data-store',
     *     storage: sessionStorage,    // ä½¿ç”¨ sessionStorage
     *     paths: ['someOtherState'],  // åªæŒä¹…åŒ–æŒ‡å®šç‹€æ…‹
     *   }
     * }
     * ```
     *
     * æ’ä»¶å®‰è£ï¼š
     * éœ€è¦åœ¨ main.js ä¸­è¨»å†Š pinia-plugin-persistedstateï¼š
     * ```javascript
     * import { createPinia } from 'pinia';
     * import piniaPluginPersistedstate from 'pinia-plugin-persistedstate';
     *
     * const pinia = createPinia();
     * pinia.use(piniaPluginPersistedstate);
     * ```
     *
     * æ¸…é™¤æŒä¹…åŒ–æ•¸æ“šï¼š
     * ```javascript
     * localStorage.removeItem('pinia-data');
     * ```
     *
     * @type {boolean}
     */
    persist: true,
  }
);
